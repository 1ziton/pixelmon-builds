/**
 * @Based on pixelmon(cipchk@qq.com) v0.1.8
 * (c) 2019 developer(developer@1ziton.com)
 * 
 * Licensed under the MIT license:
 * https://opensource.org/licenses/MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/a11y"),require("@angular/cdk/overlay"),require("@angular/cdk/platform"),require("@angular/core"),require("@angular/forms"),require("ng-zorro-antd/core"),require("rxjs"),require("rxjs/operators"),require("@angular/common"),require("ng-zorro-antd/empty"),require("ng-zorro-antd/icon")):"function"==typeof define&&define.amd?define("@pixelmon/pikachu/address-select",["exports","@angular/cdk/a11y","@angular/cdk/overlay","@angular/cdk/platform","@angular/core","@angular/forms","ng-zorro-antd/core","rxjs","rxjs/operators","@angular/common","ng-zorro-antd/empty","ng-zorro-antd/icon"],t):t(((e=e||self).pixelmon=e.pixelmon||{},e.pixelmon.pikachu=e.pixelmon.pikachu||{},e.pixelmon.pikachu["address-select"]={}),e.ng.cdk.a11y,e.ng.cdk.overlay,e.ng.cdk.platform,e.ng.core,e.ng.forms,e.core$1,e.rxjs,e.rxjs.operators,e.ng.common,e.empty,e.icon)}(this,function(e,t,n,o,i,r,a,l,s,c,d,p){"use strict";var u=function(){return(u=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function h(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}function f(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}var y=function(){};var O=[{label:"省",value:"province",checked:!0},{label:"市",value:"city"},{label:"区",value:"distrinct"},{label:"街道",value:"street"}],S=function(){function e(){}return e.prototype.transform=function(e,t,n,o){if(o||!t)return e;var i=e.filter(function(e){return n(t,e)});return console.log(i),i},e.decorators=[{type:i.Pipe,args:[{name:"addrFilterOption"}]}],e}();function g(e,t){return!(!t||!t.label)&&t.label.toLowerCase().indexOf(e.toLowerCase())>-1}var b=function(){function e(){}return e.prototype.transform=function(e){return function(e){return void 0===e&&(e=1),O.map(function(e){return u({},e)}).slice(0,e)}(e)},e.decorators=[{type:i.Pipe,args:[{name:"pAddrLevelFitler"}]}],e}(),C=function(){function e(){}return e.prototype.transform=function(e,t,n){return!!(e&&e.length>0)&&(!!e[t]&&(e[t].value===n.value&&!n.disabled))},e.decorators=[{type:i.Pipe,args:[{name:"pAddrCheckedFitler"}]}],e}(),w=function(){function e(e){var t=this;this.addrQuerySrv=e,this.autoClearSearchValue=!0,this.serverSearch=!1,this.filterOption=g,this.disabled=!1,this.levelLabels=[],this.currentLevel=1,this.maxLevel=1,this.separator="/",this.listOfSelectedValueWithEmit$=new l.BehaviorSubject({value:[],emit:!1}),this.searchValueRaw$=new l.BehaviorSubject(""),this.listOfFilteredOption=[],this.openRaw$=new l.Subject,this.checkRaw$=new l.Subject,this.clearInput$=new l.Subject,this.searchValue="",this.isShowNotFound=!1,this.open$=this.openRaw$.pipe(s.distinctUntilChanged()),this.listOfActivatedOption=[],this.listOfActivatedOption$=new l.ReplaySubject(1),this.modelChange$=this.listOfSelectedValueWithEmit$.pipe(s.filter(function(e){return e.emit}),s.map(function(e){var t=e.value,n=t.length,o=null;return n>1&&(o=t[n-1].value),o})),this.searchValue$=this.searchValueRaw$.pipe(s.distinctUntilChanged(),s.skip(1),s.share(),s.tap(function(e){t.searchValue=e,t.updateListOfFilteredOption()})),this.listOfProvinceOptions=[],this.listOfCityOptions=[],this.listOfDistinctOptions=[],this.listOfStreetOptions=[],this.check$=l.merge(this.checkRaw$,this.searchValue$,this.listOfActivatedOption$,this.open$,this.modelChange$).pipe(s.share()),this.compareWith=function(e,t){return e===t}}return e.prototype.getListByCode=function(e,t){var n=this;void 0===t&&(t=0),this.addrQuerySrv.getListByCode(e).subscribe(function(e){0===t?n.listOfProvinceOptions=m(e):1===t?n.listOfCityOptions=m(e):2===t?n.listOfDistinctOptions=m(e):3===t&&(n.listOfStreetOptions=m(e)),n.check()})},e.prototype.toggleTab=function(e){this.currentLevel=e+1,this.levelLabels.forEach(function(t,n){t.checked=n===e})},e.prototype.isMaxLevel=function(){return this.maxLevel===this.currentLevel},e.prototype.clickOption=function(e){if(!e.disabled){var t=e.level+1;this.updateActivatedOption(e,t),this.isMaxLevel()?this.setOpenState(!1):(this.autoClearSearchValue&&this.clearInput(),this.getListByCode(e.value,t),this.toggleTab(t))}},e.prototype.updateSelectedOption=function(e){if(void 0===e&&(e=!1),e)return this.toggleTab(0),this.selectedOption={label:"",value:"",mergeName:""},void(this.listOfActivatedOption=[]);var t=this.listOfActivatedOption.filter(function(e){return e&&e.value}),n=t.length;if(n>0){var o=t[n-1],i=o.label,r=o.value,a=o.level;this.selectedOption={label:i,value:r,level:a,mergeName:t.map(function(e){return e.label}).join(this.separator)}}},e.prototype.updateListOfFilteredOption=function(){var e=[];1===this.currentLevel&&(e=m(this.listOfProvinceOptions)),2===this.currentLevel&&(e=m(this.listOfCityOptions)),3===this.currentLevel&&(e=m(this.listOfDistinctOptions)),4===this.currentLevel&&(e=m(this.listOfStreetOptions));var t=(new S).transform(e,this.searchValue,this.filterOption,this.serverSearch);this.listOfFilteredOption=m(t),this.isShowNotFound=!this.listOfFilteredOption.length},e.prototype.clearInput=function(){this.clearInput$.next()},e.prototype.updateListOfSelectedValue=function(e,t){this.listOfSelectedValueWithEmit$.next({value:e,emit:t}),this.updateSelectedOption(!e.length),this.check()},e.prototype.updateActivatedOption=function(e,t){this.listOfActivatedOption$.next(e),this.listOfActivatedOption[t]=e,this.isMaxLevel()&&this.updateListOfSelectedValue(m(this.listOfActivatedOption),!0)},e.prototype.includesSeparators=function(e,t){for(var n=0;n<t.length;++n)if(e.lastIndexOf(t[n])>0)return!0;return!1},e.prototype.resetActivatedOptionIfNeeded=function(){var e=this,t=function(){var t=e.listOfFilteredOption.find(function(t){return e.compareWith(t.value,e.selectedOption[0])});e.updateActivatedOption(t||null,e.currentLevel)};this.listOfActivatedOption&&this.listOfFilteredOption.find(function(t){return e.compareWith(t.value,e.listOfActivatedOption[e.currentLevel].value)})&&this.listOfActivatedOption.find(function(t){return e.compareWith(t,e.listOfActivatedOption[e.currentLevel].value)})||t()},e.prototype.updateSearchValue=function(e){this.searchValueRaw$.next(e)},e.prototype.updateSelectedOptionByCode=function(e){var t=this;this.addrQuerySrv.getOptionByCode(e).subscribe(function(n){n.code===e&&(t.selectedOption={label:n.name,value:n.code,level:n.level,mergeName:n.mergerName},t.check())})},e.prototype.removeValueFormSelected=function(e){var t=this;if(!this.disabled&&!e.disabled){var n=this.listOfActivatedOption.filter(function(n){return!t.compareWith(n,e.value)});this.updateListOfSelectedValue(n,!0),this.clearInput()}},e.prototype.setOpenState=function(e){this.openRaw$.next(e)},e.prototype.check=function(){this.checkRaw$.next()},e.decorators=[{type:i.Injectable}],e.ctorParameters=function(){return[{type:y}]},e}();var k=function(){function e(e,t,n){this.addrSelectService=e,this.cdr=t,this.noAnimation=n,this.isComposing=!1,this.destroy$=new l.Subject,this.showSearch=!1,this.open=!1,this.allowClear=!1,this.showArrow=!0,this.loading=!1}return e.prototype.onClearSelection=function(e){e.stopPropagation(),this.addrSelectService.updateListOfSelectedValue([],!0)},e.prototype.setInputValue=function(e){this.inputElement&&!e&&(this.inputElement.nativeElement.value=e),this.inputValue=e,this.addrSelectService.updateSearchValue(e)},Object.defineProperty(e.prototype,"placeHolderDisplay",{get:function(){return this.inputValue||this.isComposing||this.addrSelectService.listOfActivatedOption.length?"none":"block"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValueStyle",{get:function(){var e=!1,t=1;return this.showSearch&&this.open?(e=!(this.inputValue||this.isComposing))&&(t=.4):e=!0,{display:e?"block":"none",opacity:""+t}},enumerable:!0,configurable:!0}),e.prototype.trackValue=function(e,t){return t.value},e.prototype.removeSelectedValue=function(e,t){this.addrSelectService.removeValueFormSelected(e),t.stopPropagation()},e.prototype.ngOnInit=function(){var e=this;this.addrSelectService.open$.pipe(s.takeUntil(this.destroy$)).subscribe(function(t){e.inputElement&&t&&setTimeout(function(){return e.inputElement.nativeElement.focus()})}),this.addrSelectService.clearInput$.pipe(s.takeUntil(this.destroy$)).subscribe(function(){e.setInputValue("")}),this.addrSelectService.check$.pipe(s.takeUntil(this.destroy$)).subscribe(function(){e.cdr.markForCheck()})},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.decorators=[{type:i.Component,args:[{selector:"[p-select-top-control]",template:'<ng-template #inputTemplate>\n  <input\n    #inputElement\n    autocomplete="something-new"\n    class="ant-select-search__field"\n    (compositionstart)="isComposing = true"\n    (compositionend)="isComposing = false"\n    [ngModel]="inputValue"\n    (ngModelChange)="setInputValue($event)"\n    [disabled]="addrSelectService.disabled"\n  />\n</ng-template>\n<div class="ant-select-selection__rendered">\n  <div *ngIf="placeHolder" nz-select-unselectable [style.display]="placeHolderDisplay" class="ant-select-selection__placeholder">\n    {{ placeHolder }}\n  </div>\n  \x3c!--selected label--\x3e\n  <div\n    *ngIf="addrSelectService.selectedOption?.value"\n    class="ant-select-selection-selected-value"\n    [attr.title]="addrSelectService.selectedOption?.mergeName"\n    [ngStyle]="selectedValueStyle"\n  >\n    <ng-container>{{ addrSelectService.selectedOption?.mergeName }}</ng-container>\n  </div>\n  \x3c!--show search--\x3e\n  <div *ngIf="showSearch" class="ant-select-search ant-select-search--inline" [style.display]="open ? \'block\' : \'none\'">\n    <div class="ant-select-search__field__wrap">\n      <ng-template [ngTemplateOutlet]="inputTemplate"></ng-template>\n      <span class="ant-select-search__field__mirror">{{ inputValue }}&nbsp;</span>\n    </div>\n  </div>\n</div>\n<span\n  *ngIf="allowClear && addrSelectService.selectedOption?.value"\n  class="ant-select-selection__clear"\n  nz-select-unselectable\n  (mousedown)="$event.preventDefault()"\n  (click)="onClearSelection($event)"\n>\n  <i nz-icon nzType="close-circle" nzTheme="fill" *ngIf="!clearIcon; else clearIcon" class="ant-select-close-icon"></i>\n</span>\n<span class="ant-select-arrow" nz-select-unselectable *ngIf="showArrow">\n  <i nz-icon nzType="loading" *ngIf="loading; else defaultArrow"></i>\n  <ng-template #defaultArrow>\n    <i nz-icon nzType="down" class="ant-select-arrow-icon" *ngIf="!suffixIcon; else suffixIcon"></i>\n  </ng-template>\n</span>\n',exportAs:"nzSelectTopControl",preserveWhitespaces:!1,animations:[a.zoomMotion],changeDetection:i.ChangeDetectionStrategy.OnPush,encapsulation:i.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:w},{type:i.ChangeDetectorRef},{type:a.NzNoAnimationDirective,decorators:[{type:i.Host},{type:i.Optional}]}]},e.propDecorators={inputElement:[{type:i.ViewChild,args:["inputElement",{static:!1}]}],showSearch:[{type:i.Input}],placeHolder:[{type:i.Input}],open:[{type:i.Input}],allowClear:[{type:i.Input}],showArrow:[{type:i.Input}],loading:[{type:i.Input}],suffixIcon:[{type:i.Input}],clearIcon:[{type:i.Input}],removeIcon:[{type:i.Input}]},e}();var I=function(){function e(e,t,n,o,r,a,s){this.renderer=e,this.addrSelectService=t,this.cdr=n,this.focusMonitor=o,this.platform=r,this.noAnimation=s,this._open=!1,this.dropDownPosition="bottom",this._disabled=!1,this._autoFocus=!1,this.isInit=!1,this.destroy$=new l.Subject,this.onSearch=new i.EventEmitter,this.scrollToBottom=new i.EventEmitter,this.openChange=new i.EventEmitter,this.pBlur=new i.EventEmitter,this.pFocus=new i.EventEmitter,this.size="default",this.level=3,this.dropdownMatchSelectWidth=!1,this.allowClear=!0,this.showSearch=!1,this.loading=!1,this.showArrow=!0,this.onChange=function(){return null},this.onTouched=function(){return null},e.addClass(a.nativeElement,"ant-select")}return Object.defineProperty(e.prototype,"autoClearSearchValue",{set:function(e){this.addrSelectService.autoClearSearchValue=a.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverSearch",{set:function(e){this.addrSelectService.serverSearch=a.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterOption",{set:function(e){this.addrSelectService.filterOption=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"separator",{set:function(e){this.addrSelectService.separator=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"compareWith",{set:function(e){this.addrSelectService.compareWith=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoFocus",{get:function(){return this._autoFocus},set:function(e){this._autoFocus=a.toBoolean(e),this.updateAutoFocus()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"open",{set:function(e){this._open=e,this.addrSelectService.setOpenState(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=a.toBoolean(e),this.addrSelectService.disabled=this._disabled,this.addrSelectService.check(),this.disabled&&this.isInit&&this.closeDropDown()},enumerable:!0,configurable:!0}),e.prototype.updateAutoFocus=function(){this.panelTopControlComponent.inputElement&&(this.autoFocus?this.renderer.setAttribute(this.panelTopControlComponent.inputElement.nativeElement,"autofocus","autofocus"):this.renderer.removeAttribute(this.panelTopControlComponent.inputElement.nativeElement,"autofocus"))},e.prototype.focus=function(){this.panelTopControlComponent.inputElement&&(this.focusMonitor.focusVia(this.panelTopControlComponent.inputElement,"keyboard"),this.pFocus.emit())},e.prototype.blur=function(){this.panelTopControlComponent.inputElement&&(this.panelTopControlComponent.inputElement.nativeElement.blur(),this.pBlur.emit())},e.prototype.toggleDropDown=function(){this.disabled||this.addrSelectService.setOpenState(!this.open)},e.prototype.closeDropDown=function(){this.addrSelectService.setOpenState(!1)},e.prototype.onPositionChange=function(e){this.dropDownPosition=e.connectionPair.originY},e.prototype.updateCdkConnectedOverlayStatus=function(){if(this.platform.isBrowser){var e=this.cdkOverlayOrigin.elementRef.nativeElement.getBoundingClientRect().width;this.triggerWidth=this.dropdownMatchSelectWidth?e:e+75}},e.prototype.updateCdkConnectedOverlayPositions=function(){var e=this;setTimeout(function(){e.cdkConnectedOverlay&&e.cdkConnectedOverlay.overlayRef&&e.cdkConnectedOverlay.overlayRef.updatePosition()})},e.prototype.writeValue=function(e){this.value=e;var t=[];a.isNotNil(e)&&(t=Array.isArray(e)?e:[e]),this.addrSelectService.updateListOfSelectedValue(t,!1),e&&this.addrSelectService.updateSelectedOptionByCode(e),this.cdr.markForCheck()},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e,this.cdr.markForCheck()},e.prototype.ngOnInit=function(){var e=this;this.addrSelectService.getListByCode("",0),this.addrSelectService.searchValue$.pipe(s.takeUntil(this.destroy$)).subscribe(function(t){e.onSearch.emit(t),e.updateCdkConnectedOverlayPositions()}),this.addrSelectService.modelChange$.pipe(s.takeUntil(this.destroy$)).subscribe(function(t){e.value!==t&&(e.value=t,e.onChange(e.value),e.updateCdkConnectedOverlayPositions())}),this.addrSelectService.open$.pipe(s.takeUntil(this.destroy$)).subscribe(function(t){e.open!==t&&e.openChange.emit(t),t?(e.focus(),e.updateCdkConnectedOverlayStatus()):(e.blur(),e.onTouched()),e.open=t,e.addrSelectService.clearInput()}),this.addrSelectService.check$.pipe(s.takeUntil(this.destroy$)).subscribe(function(){e.cdr.markForCheck()})},e.prototype.ngAfterViewInit=function(){this.updateCdkConnectedOverlayStatus(),this.isInit=!0},e.prototype.ngAfterContentInit=function(){},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.decorators=[{type:i.Component,args:[{selector:"p-address-select",exportAs:"pAddressSelect",preserveWhitespaces:!1,providers:[w,{provide:r.NG_VALUE_ACCESSOR,useExisting:i.forwardRef(function(){return e}),multi:!0}],changeDetection:i.ChangeDetectionStrategy.OnPush,encapsulation:i.ViewEncapsulation.None,animations:[a.slideMotion],template:'<div\n  p-select-top-control\n  cdkOverlayOrigin\n  tabindex="0"\n  class="ant-select-selection ant-select-selection--single"\n  [open]="_open"\n  [@.disabled]="noAnimation?.nzNoAnimation"\n  [nzNoAnimation]="noAnimation?.nzNoAnimation"\n  [placeHolder]="placeHolder"\n  [allowClear]="allowClear"\n  [showArrow]="showArrow"\n  [loading]="loading"\n  [suffixIcon]="suffixIcon"\n  [clearIcon]="clearIcon"\n  [removeIcon]="removeIcon"\n  [showSearch]="showSearch"\n></div>\n<ng-template\n  cdkConnectedOverlay\n  nzConnectedOverlay\n  [cdkConnectedOverlayHasBackdrop]="true"\n  [cdkConnectedOverlayWidth]="triggerWidth"\n  [cdkConnectedOverlayOrigin]="cdkOverlayOrigin"\n  (backdropClick)="closeDropDown()"\n  (detach)="closeDropDown()"\n  (positionChange)="onPositionChange($event)"\n  [cdkConnectedOverlayOpen]="_open"\n>\n  <div\n    class="ant-select-dropdown ant-select-dropdown--single"\n    [class.ant-select-dropdown-placement-bottomLeft]="dropDownPosition === \'bottom\'"\n    [class.ant-select-dropdown-placement-topLeft]="dropDownPosition === \'top\'"\n    [nzClassListAdd]="[dropdownClassName]"\n    [@slideMotion]="dropDownPosition"\n    [@.disabled]="noAnimation?.nzNoAnimation"\n    [nzNoAnimation]="noAnimation?.nzNoAnimation"\n    [ngStyle]="dropdownStyle"\n  >\n    <div\n      p-option-container\n      style="overflow: auto;transform: translateZ(0px);"\n      [level]="level"\n      [menuItemSelectedIcon]="menuItemSelectedIcon"\n      [notFoundContent]="notFoundContent"\n      (scrollToBottom)="scrollToBottom.emit()"\n    ></div>\n  </div>\n</ng-template>\n',host:{"[class.ant-select-lg]":'size==="large"',"[class.ant-select-sm]":'size==="small"',"[class.ant-select-enabled]":"!disabled","[class.ant-select-no-arrow]":"!showArrow","[class.ant-select-disabled]":"disabled","[class.ant-select-allow-clear]":"allowClear","[class.ant-select-open]":"open","(click)":"toggleDropDown()"},styles:["\n      .ant-select-dropdown {\n        top: 100%;\n        left: 0;\n        position: relative;\n        width: 100%;\n        margin-top: 4px;\n        margin-bottom: 4px;\n      }\n    "]}]}],e.ctorParameters=function(){return[{type:i.Renderer2},{type:w},{type:i.ChangeDetectorRef},{type:t.FocusMonitor},{type:o.Platform},{type:i.ElementRef},{type:a.NzNoAnimationDirective,decorators:[{type:i.Host},{type:i.Optional}]}]},e.propDecorators={cdkOverlayOrigin:[{type:i.ViewChild,args:[n.CdkOverlayOrigin,{static:!1}]}],cdkConnectedOverlay:[{type:i.ViewChild,args:[n.CdkConnectedOverlay,{static:!1}]}],panelTopControlComponent:[{type:i.ViewChild,args:[k,{static:!0}]}],onSearch:[{type:i.Output}],scrollToBottom:[{type:i.Output}],openChange:[{type:i.Output}],pBlur:[{type:i.Output}],pFocus:[{type:i.Output}],size:[{type:i.Input}],level:[{type:i.Input}],dropdownClassName:[{type:i.Input}],dropdownMatchSelectWidth:[{type:i.Input}],dropdownStyle:[{type:i.Input}],notFoundContent:[{type:i.Input}],allowClear:[{type:i.Input}],showSearch:[{type:i.Input}],loading:[{type:i.Input}],placeHolder:[{type:i.Input}],suffixIcon:[{type:i.Input}],clearIcon:[{type:i.Input}],removeIcon:[{type:i.Input}],menuItemSelectedIcon:[{type:i.Input}],showArrow:[{type:i.Input}],autoClearSearchValue:[{type:i.Input}],serverSearch:[{type:i.Input}],filterOption:[{type:i.Input}],separator:[{type:i.Input}],compareWith:[{type:i.Input}],autoFocus:[{type:i.Input}],open:[{type:i.Input}],disabled:[{type:i.Input}]},h([a.InputBoolean(),f("design:type",Object)],e.prototype,"allowClear",void 0),h([a.InputBoolean(),f("design:type",Object)],e.prototype,"showSearch",void 0),h([a.InputBoolean(),f("design:type",Object)],e.prototype,"loading",void 0),e}();var A=function(){function e(e,t){this.addrSrv=e,this.cdr=t,this.destroy$=new l.Subject,this.scrollToBottom=new i.EventEmitter}return Object.defineProperty(e.prototype,"level",{set:function(e){this.addrSrv.levelLabels=(new b).transform(e),this.addrSrv.maxLevel=e,this.addrSrv.currentLevel=1},enumerable:!0,configurable:!0}),e.prototype.clickOption=function(e){this.addrSrv.clickOption(e)},e.prototype.toggleTabs=function(e,t){e.checked||(this.addrSrv.toggleTab(t),this.addrSrv.updateListOfFilteredOption())},e.prototype.trackLabel=function(e,t){return t.label},e.prototype.trackValue=function(e,t){return t.value},e.prototype.ngOnInit=function(){var e=this;this.addrSrv.check$.pipe(s.takeUntil(this.destroy$)).subscribe(function(){e.cdr.markForCheck()})},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.decorators=[{type:i.Component,args:[{selector:"[p-option-container]",exportAs:"pOptionContainer",changeDetection:i.ChangeDetectionStrategy.OnPush,encapsulation:i.ViewEncapsulation.None,preserveWhitespaces:!1,template:'<div class="p-address-select-container">\n  <div class="ant-tabs ant-tabs-card">\n    <div class="ant-tabs-bar ant-tabs-card-bar ant-tabs-top-bar ant-tabs-default-bar">\n      <span\n        class="ant-tabs-tab"\n        [class.ant-tabs-tab-active]="item.checked"\n        *ngFor="let item of addrSrv.levelLabels; let i = index"\n        (click)="toggleTabs(item, i)"\n        >{{ item.label }}</span\n      >\n    </div>\n  </div>\n  \x3c!-- province --\x3e\n  <ul\n    #provinceUl\n    class="ant-select-dropdown-menu ant-select-dropdown-menu-root ant-select-dropdown-menu-vertical"\n    role="menu"\n    tabindex="0"\n    [hidden]="addrSrv.levelLabels[0] && !addrSrv.levelLabels[0][\'checked\']"\n  >\n    <li\n      *ngIf="addrSrv.isShowNotFound && addrSrv.currentLevel === 1"\n      nz-select-unselectable\n      class="ant-select-dropdown-menu-item ant-select-dropdown-menu-item-disabled"\n    >\n      <nz-embed-empty [nzComponentName]="\'select\'" [specificContent]="notFoundContent"></nz-embed-empty>\n    </li>\n    <li\n      class="item ant-select-dropdown-menu-item"\n      [class.ant-select-dropdown-menu-item-selected]="addrSrv.listOfActivatedOption | pAddrCheckedFitler: 1:option"\n      *ngFor="\n        let option of addrSrv.listOfProvinceOptions | addrFilterOption: addrSrv.searchValue:addrSrv.filterOption:addrSrv.serverSearch;\n        trackBy: trackValue\n      "\n      (click)="clickOption(option)"\n    >\n      {{ option.label }}\n      <i\n        nz-icon\n        nzType="check"\n        class="ant-select-selected-icon"\n        *ngIf="(addrSrv.listOfActivatedOption | pAddrCheckedFitler: 1:option) && !menuItemSelectedIcon"\n      ></i>\n    </li>\n  </ul>\n  \x3c!-- city --\x3e\n  <ul\n    #cityUl\n    class="ant-select-dropdown-menu ant-select-dropdown-menu-root ant-select-dropdown-menu-vertical"\n    role="menu"\n    tabindex="1"\n    [hidden]="addrSrv.levelLabels[1] && !addrSrv.levelLabels[1][\'checked\']"\n  >\n    <li\n      *ngIf="addrSrv.isShowNotFound && addrSrv.currentLevel === 2"\n      nz-select-unselectable\n      class="ant-select-dropdown-menu-item ant-select-dropdown-menu-item-disabled"\n    >\n      <nz-embed-empty [nzComponentName]="\'select\'" [specificContent]="notFoundContent"></nz-embed-empty>\n    </li>\n    <li\n      class="item ant-select-dropdown-menu-item"\n      *ngFor="\n        let option of addrSrv.listOfCityOptions | addrFilterOption: addrSrv.searchValue:addrSrv.filterOption:addrSrv.serverSearch;\n        trackBy: trackValue\n      "\n      [class.ant-select-dropdown-menu-item-selected]="addrSrv.listOfActivatedOption | pAddrCheckedFitler: 2:option"\n      (click)="clickOption(option)"\n    >\n      {{ option.label }}\n      <i\n        nz-icon\n        nzType="check"\n        class="ant-select-selected-icon"\n        *ngIf="(addrSrv.listOfActivatedOption | pAddrCheckedFitler: 2:option) && !menuItemSelectedIcon"\n      ></i>\n    </li>\n  </ul>\n  \x3c!-- distinct --\x3e\n  <ul\n    #distinctUl\n    class="ant-select-dropdown-menu ant-select-dropdown-menu-root ant-select-dropdown-menu-vertical"\n    role="menu"\n    tabindex="2"\n    [hidden]="addrSrv.levelLabels[2] && !addrSrv.levelLabels[2][\'checked\']"\n  >\n    <li\n      *ngIf="addrSrv.isShowNotFound && addrSrv.currentLevel === 3"\n      nz-select-unselectable\n      class="ant-select-dropdown-menu-item ant-select-dropdown-menu-item-disabled"\n    >\n      <nz-embed-empty [nzComponentName]="\'select\'" [specificContent]="notFoundContent"></nz-embed-empty>\n    </li>\n    <li\n      class="item ant-select-dropdown-menu-item"\n      [class.ant-select-dropdown-menu-item-selected]="addrSrv.listOfActivatedOption | pAddrCheckedFitler: 3:option"\n      *ngFor="\n        let option of addrSrv.listOfDistinctOptions | addrFilterOption: addrSrv.searchValue:addrSrv.filterOption:addrSrv.serverSearch;\n        trackBy: trackValue\n      "\n      (click)="clickOption(option)"\n    >\n      {{ option.label }}\n      <i\n        nz-icon\n        nzType="check"\n        class="ant-select-selected-icon"\n        *ngIf="(addrSrv.listOfActivatedOption | pAddrCheckedFitler: 3:option) && !menuItemSelectedIcon"\n      ></i>\n    </li>\n  </ul>\n  \x3c!-- street --\x3e\n  <ul\n    class="ant-select-dropdown-menu ant-select-dropdown-menu-root ant-select-dropdown-menu-vertical"\n    role="menu"\n    tabindex="3"\n    [hidden]="addrSrv.levelLabels[3] && !addrSrv.levelLabels[3][\'checked\']"\n  >\n    <li\n      *ngIf="addrSrv.isShowNotFound && addrSrv.currentLevel === 4"\n      nz-select-unselectable\n      class="ant-select-dropdown-menu-item ant-select-dropdown-menu-item-disabled"\n    >\n      <nz-embed-empty [nzComponentName]="\'select\'" [specificContent]="notFoundContent"></nz-embed-empty>\n    </li>\n    <li\n      class="item ant-select-dropdown-menu-item"\n      [class.ant-select-dropdown-menu-item-selected]="addrSrv.listOfActivatedOption | pAddrCheckedFitler: 4:option"\n      *ngFor="\n        let option of addrSrv.listOfStreetOptions | addrFilterOption: addrSrv.searchValue:addrSrv.filterOption:addrSrv.serverSearch;\n        trackBy: trackValue\n      "\n      (click)="clickOption(option)"\n    >\n      {{ option.label }}\n      <i\n        nz-icon\n        nzType="check"\n        class="ant-select-selected-icon"\n        *ngIf="(addrSrv.listOfActivatedOption | pAddrCheckedFitler: 4:option) && !menuItemSelectedIcon"\n      ></i>\n    </li>\n  </ul>\n</div>\n',host:{"[attr.unselectable]":'"unselectable"',"[style.user-select]":'"none"',"(mousedown)":"$event.preventDefault()"},styles:[".p-address-select-container .ant-tabs-bar{margin-bottom:10px;padding-left:10px;background:#e8e8e8;border-bottom:none!important}.p-address-select-container .ant-tabs-tab{display:inline-block;height:100%;background:0 0!important;cursor:pointer}.p-address-select-container .ant-tabs-tab-active{background:#fff!important}.p-address-select-container .ant-select-dropdown-menu-root{padding:0 10px 5px}.p-address-select-container .item{display:inline-block;width:120px;padding:5px 10px}"]}]}],e.ctorParameters=function(){return[{type:w},{type:i.ChangeDetectorRef}]},e.propDecorators={notFoundContent:[{type:i.Input}],menuItemSelectedIcon:[{type:i.Input}],scrollToBottom:[{type:i.Output}],level:[{type:i.Input}]},e}();var x=function(){function e(){}return e.decorators=[{type:i.NgModule,args:[{declarations:[I,k,S,b,C,A],imports:[n.OverlayModule,o.PlatformModule,r.FormsModule,c.CommonModule,d.NzEmptyModule,p.NzIconModule,a.NzAddOnModule,a.NzNoAnimationModule,a.NzOverlayModule],exports:[I,k,S,b,C,A]}]}],e}();e.AddrCheckedFilterPipe=C,e.AddrFilterOptionPipe=S,e.AddrLevelFilterPipe=b,e.AddrOptionContainerComponent=A,e.AddrSelectTopControlComponent=k,e.AddressQueryService=y,e.AddressSelectComponent=I,e.AddressSelectModule=x,e.AddressSelectService=w,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=address-select.umd.min.js.map