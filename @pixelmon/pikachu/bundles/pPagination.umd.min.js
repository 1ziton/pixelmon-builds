/**
 * @Based on pixelmon(cipchk@qq.com) v0.1.8
 * (c) 2019 developer(developer@1ziton.com)
 * 
 * Licensed under the MIT license:
 * https://opensource.org/licenses/MIT
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/common"),require("@angular/core"),require("@angular/forms"),require("ng-zorro-antd/i18n"),require("ng-zorro-antd/icon"),require("ng-zorro-antd/select"),require("rxjs"),require("rxjs/operators"),require("ng-zorro-antd/core")):"function"==typeof define&&define.amd?define("@pixelmon/pikachu/pagination",["exports","@angular/common","@angular/core","@angular/forms","ng-zorro-antd/i18n","ng-zorro-antd/icon","ng-zorro-antd/select","rxjs","rxjs/operators","ng-zorro-antd/core"],n):n(((e=e||self).pixelmon=e.pixelmon||{},e.pixelmon.pikachu=e.pixelmon.pikachu||{},e.pixelmon.pikachu.pagination={}),e.ng.common,e.ng.core,e.ng.forms,e["ng-zorro-antd/i18n"],e["ng-zorro-antd/icon"],e["ng-zorro-antd/select"],e.rxjs,e.rxjs.operators,e.core$1)}(this,function(e,n,t,a,i,o,l,p,s,r){"use strict";function g(e,n,t,a){var i,o=arguments.length,l=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,t):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,n,t,a);else for(var p=e.length-1;p>=0;p--)(i=e[p])&&(l=(o<3?i(l):o>3?i(n,t,l):i(n,t))||l);return o>3&&l&&Object.defineProperty(n,t,l),l}function d(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)}var c=function(){function e(e,n){this.i18n=e,this.cdr=n,this.locale={},this.firstIndex=1,this.pages=[],this.$destroy=new p.Subject,this.nzPageSizeChange=new t.EventEmitter,this.nzPageIndexChange=new t.EventEmitter,this.nzInTable=!1,this.nzSize="default",this.nzPageSizeOptions=[10,20,30,40],this.nzDisabled=!1,this.nzShowSizeChanger=!1,this.nzHideOnSinglePage=!1,this.nzShowQuickJumper=!1,this.nzSimple=!1,this.nzTotal=0,this.nzPageIndex=1,this.nzPageSize=10}return e.prototype.validatePageIndex=function(e){return e>this.lastIndex?this.lastIndex:e<this.firstIndex?this.firstIndex:e},e.prototype.updatePageIndexValue=function(e){this.nzPageIndex=e,this.nzPageIndexChange.emit(this.nzPageIndex),this.buildIndexes()},e.prototype.isPageIndexValid=function(e){return this.validatePageIndex(e)===e},e.prototype.jumpPage=function(e){if(e!==this.nzPageIndex&&!this.nzDisabled){var n=this.validatePageIndex(e);n!==this.nzPageIndex&&this.updatePageIndexValue(n)}},e.prototype.jumpDiff=function(e){this.jumpPage(this.nzPageIndex+e)},e.prototype.onPageSizeChange=function(e){this.nzPageSize=e,this.nzPageSizeChange.emit(e),this.buildIndexes(),this.nzPageIndex>this.lastIndex&&this.updatePageIndexValue(this.lastIndex)},e.prototype.handleKeyDown=function(e,n,t){var a=n,i=r.toNumber(a.value,this.nzPageIndex);r.isInteger(i)&&this.isPageIndexValid(i)&&i!==this.nzPageIndex&&this.updatePageIndexValue(i),a.value=t?"":""+this.nzPageIndex},e.prototype.buildIndexes=function(){var e=[];if(this.lastIndex<=9)for(var n=2;n<=this.lastIndex-1;n++)e.push(n);else{var t=+this.nzPageIndex,a=Math.max(2,t-2),i=Math.min(t+2,this.lastIndex-1);t-1<=2&&(i=5),this.lastIndex-t<=2&&(a=this.lastIndex-4);for(n=a;n<=i;n++)e.push(n)}this.pages=e,this.cdr.markForCheck()},Object.defineProperty(e.prototype,"lastIndex",{get:function(){return Math.ceil(this.nzTotal/this.nzPageSize)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLastIndex",{get:function(){return this.nzPageIndex===this.lastIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFirstIndex",{get:function(){return this.nzPageIndex===this.firstIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ranges",{get:function(){return[(this.nzPageIndex-1)*this.nzPageSize+1,Math.min(this.nzPageIndex*this.nzPageSize,this.nzTotal)]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showAddOption",{get:function(){return-1===this.nzPageSizeOptions.indexOf(this.nzPageSize)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.i18n.localeChange.pipe(s.takeUntil(this.$destroy)).subscribe(function(){e.locale=e.i18n.getLocaleData("Pagination"),e.cdr.markForCheck()})},e.prototype.ngOnDestroy=function(){this.$destroy.next(),this.$destroy.complete()},e.prototype.ngOnChanges=function(e){(e.nzTotal||e.nzPageSize||e.nzPageIndex)&&this.buildIndexes()},e.decorators=[{type:t.Component,args:[{selector:"p-pagination",exportAs:"pPagination",preserveWhitespaces:!1,changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None,template:'<ng-template #renderItemTemplate let-type let-page="page">\n  <a class="ant-pagination-item-link" *ngIf="type === \'pre\'">\n    <i nz-icon nzType="left"></i>\n  </a>\n  <a class="ant-pagination-item-link" *ngIf="type === \'next\'">\n    <i nz-icon nzType="right"></i>\n  </a>\n  <a *ngIf="type == \'page\'">{{ page }}</a>\n</ng-template>\n<ng-container *ngIf="(nzHideOnSinglePage && nzTotal > nzPageSize) || !nzHideOnSinglePage">\n  <ul\n    class="ant-pagination"\n    [class.ant-table-pagination]="nzInTable"\n    [class.ant-pagination-simple]="nzSimple"\n    [class.ant-pagination-disabled]="nzDisabled"\n    [class.mini]="nzSize === \'small\' && !nzSimple"\n  >\n    <ng-container *ngIf="nzSimple; else normalTemplate">\n      <li class="ant-pagination-prev" [attr.title]="locale.prev_page" [class.ant-pagination-disabled]="isFirstIndex" (click)="jumpDiff(-1)">\n        <ng-template [ngTemplateOutlet]="nzItemRender" [ngTemplateOutletContext]="{ $implicit: \'pre\' }"></ng-template>\n      </li>\n      <li [attr.title]="nzPageIndex + \'/\' + lastIndex" class="ant-pagination-simple-pager">\n        <input\n          #simplePagerInput\n          [disabled]="nzDisabled"\n          [value]="nzPageIndex"\n          (keydown.enter)="handleKeyDown($event, simplePagerInput, false)"\n          size="3"\n        />\n        <span class="ant-pagination-slash">／</span>\n        {{ lastIndex }}\n      </li>\n      <li class="ant-pagination-next" [attr.title]="locale.next_page" [class.ant-pagination-disabled]="isLastIndex" (click)="jumpDiff(1)">\n        <ng-template [ngTemplateOutlet]="nzItemRender" [ngTemplateOutletContext]="{ $implicit: \'next\' }"></ng-template>\n      </li>\n    </ng-container>\n    <ng-template #normalTemplate>\n      <li class="ant-pagination-total-text" *ngIf="nzShowTotal">\n        <ng-template [ngTemplateOutlet]="nzShowTotal" [ngTemplateOutletContext]="{ $implicit: nzTotal, range: ranges }"></ng-template>\n      </li>\n      <li class="ant-pagination-prev" [attr.title]="locale.prev_page" [class.ant-pagination-disabled]="isFirstIndex" (click)="jumpDiff(-1)">\n        <ng-template [ngTemplateOutlet]="nzItemRender" [ngTemplateOutletContext]="{ $implicit: \'pre\' }"></ng-template>\n      </li>\n      <li\n        class="ant-pagination-item"\n        [attr.title]="firstIndex"\n        [class.ant-pagination-item-active]="isFirstIndex"\n        (click)="jumpPage(firstIndex)"\n      >\n        <ng-template [ngTemplateOutlet]="nzItemRender" [ngTemplateOutletContext]="{ $implicit: \'page\', page: firstIndex }"></ng-template>\n      </li>\n      <li\n        class="ant-pagination-jump-prev"\n        *ngIf="lastIndex > 9 && nzPageIndex - 3 > firstIndex"\n        [attr.title]="locale.prev_5"\n        (click)="jumpDiff(-5)"\n      >\n        <a class="ant-pagination-item-link">\n          <div class="ant-pagination-item-container">\n            <i nz-icon nzType="double-left" class="ant-pagination-item-link-icon"></i>\n            <span class="ant-pagination-item-ellipsis">•••</span>\n          </div>\n        </a>\n      </li>\n      <li\n        class="ant-pagination-item"\n        *ngFor="let page of pages"\n        [attr.title]="page"\n        [class.ant-pagination-item-active]="nzPageIndex === page"\n        (click)="jumpPage(page)"\n      >\n        <ng-template [ngTemplateOutlet]="nzItemRender" [ngTemplateOutletContext]="{ $implicit: \'page\', page: page }"></ng-template>\n      </li>\n      <li\n        class="ant-pagination-jump-next ant-pagination-item-link-icon"\n        [attr.title]="locale.next_5"\n        (click)="jumpDiff(5)"\n        *ngIf="lastIndex > 9 && nzPageIndex + 3 < lastIndex"\n      >\n        <a class="ant-pagination-item-link">\n          <div class="ant-pagination-item-container">\n            <i nz-icon nzType="double-right" class="ant-pagination-item-link-icon"></i>\n            <span class="ant-pagination-item-ellipsis">•••</span>\n          </div>\n        </a>\n      </li>\n      <li\n        class="ant-pagination-item"\n        [attr.title]="lastIndex"\n        (click)="jumpPage(lastIndex)"\n        *ngIf="lastIndex > 0 && lastIndex !== firstIndex"\n        [class.ant-pagination-item-active]="isLastIndex"\n      >\n        <ng-template [ngTemplateOutlet]="nzItemRender" [ngTemplateOutletContext]="{ $implicit: \'page\', page: lastIndex }"></ng-template>\n      </li>\n      <li class="ant-pagination-next" [title]="locale.next_page" [class.ant-pagination-disabled]="isLastIndex" (click)="jumpDiff(1)">\n        <ng-template [ngTemplateOutlet]="nzItemRender" [ngTemplateOutletContext]="{ $implicit: \'next\' }"></ng-template>\n      </li>\n      <div class="ant-pagination-options" *ngIf="nzShowQuickJumper || nzShowSizeChanger">\n        <nz-select\n          class="ant-pagination-options-size-changer"\n          *ngIf="nzShowSizeChanger"\n          [nzDisabled]="nzDisabled"\n          [nzSize]="nzSize"\n          [ngModel]="nzPageSize"\n          (ngModelChange)="onPageSizeChange($event)"\n        >\n          <nz-option *ngFor="let option of nzPageSizeOptions" [nzLabel]="option + locale.items_per_page" [nzValue]="option"> </nz-option>\n          <nz-option *ngIf="showAddOption" [nzLabel]="nzPageSize + locale.items_per_page" [nzValue]="nzPageSize"> </nz-option>\n        </nz-select>\n        <div class="ant-pagination-options-quick-jumper" *ngIf="nzShowQuickJumper">\n          {{ locale.jump_to }}\n          <input #quickJumperInput [disabled]="nzDisabled" (keydown.enter)="handleKeyDown($event, quickJumperInput, true)" />\n          {{ locale.page }}\n        </div>\n      </div>\n    </ng-template>\n  </ul>\n</ng-container>\n'}]}],e.ctorParameters=function(){return[{type:i.NzI18nService},{type:t.ChangeDetectorRef}]},e.propDecorators={nzPageSizeChange:[{type:t.Output}],nzPageIndexChange:[{type:t.Output}],nzShowTotal:[{type:t.Input}],nzInTable:[{type:t.Input}],nzSize:[{type:t.Input}],nzPageSizeOptions:[{type:t.Input}],nzItemRender:[{type:t.Input},{type:t.ViewChild,args:["renderItemTemplate",{static:!0}]}],nzDisabled:[{type:t.Input}],nzShowSizeChanger:[{type:t.Input}],nzHideOnSinglePage:[{type:t.Input}],nzShowQuickJumper:[{type:t.Input}],nzSimple:[{type:t.Input}],nzTotal:[{type:t.Input}],nzPageIndex:[{type:t.Input}],nzPageSize:[{type:t.Input}]},g([r.InputBoolean(),d("design:type",Object)],e.prototype,"nzDisabled",void 0),g([r.InputBoolean(),d("design:type",Object)],e.prototype,"nzShowSizeChanger",void 0),g([r.InputBoolean(),d("design:type",Object)],e.prototype,"nzHideOnSinglePage",void 0),g([r.InputBoolean(),d("design:type",Object)],e.prototype,"nzShowQuickJumper",void 0),g([r.InputBoolean(),d("design:type",Object)],e.prototype,"nzSimple",void 0),g([r.InputNumber(),d("design:type",Object)],e.prototype,"nzTotal",void 0),g([r.InputNumber(),d("design:type",Object)],e.prototype,"nzPageIndex",void 0),g([r.InputNumber(),d("design:type",Object)],e.prototype,"nzPageSize",void 0),e}();var u=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[c],exports:[c],imports:[n.CommonModule,a.FormsModule,l.NzSelectModule,i.NzI18nModule,o.NzIconModule]}]}],e}();e.PaginationComponent=c,e.PaginationModule=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=pPagination.umd.min.js.map