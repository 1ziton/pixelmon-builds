/**
 * @Based on pixelmon(cipchk@qq.com) v0.1.9
 * (c) 2019 developer(developer@1ziton.com)
 * 
 * Licensed under the MIT license:
 * https://opensource.org/licenses/MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@pixelmon/theme"),require("ng-zorro-antd")):"function"==typeof define&&define.amd?define("@pixelmon/pikachu/query-tabs",["exports","@angular/common","@angular/core","@pixelmon/theme","ng-zorro-antd"],t):t(((e=e||self).pixelmon=e.pixelmon||{},e.pixelmon.pikachu=e.pixelmon.pikachu||{},e.pixelmon.pikachu["query-tabs"]={}),e.ng.common,e.ng.core,e.pixelmon.theme,e.ngZorroAntd)}(this,function(e,t,n,a,o){"use strict";function r(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,r=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}var i=function(){function e(){this.tabs=[],this.lexicon=[],this.tabsChange=new n.EventEmitter,this.queryChange=new n.EventEmitter,this.closeTab=new n.EventEmitter,this.filterRule=function(e){var t=e.searchValue;return(!e.hasOwnProperty("defaultValue")||t!==e.defaultValue)&&(![void 0,null,""].includes(t)&&!(Array.isArray(t)&&!t.length))}}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){e.tabs&&this.updateQuery()},e.prototype.onClose=function(e){e.searchValue=e.hasOwnProperty("defaultValue")?e.defaultValue:null,this.closeTab.emit(e),this.tabs=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e}(this.tabs),this.tabsChange.emit(this.tabs)},e.prototype.updateQuery=function(){var e={};this.tabs.forEach(function(t){t.showFilter&&(e[t.field]=t.searchValue)}),this.queryChange.emit(e)},e.decorators=[{type:n.Component,args:[{selector:"p-queryTabs",exportAs:"queryTabs",template:'<nz-tabset nzType="card">\n  <ng-container *ngFor="let tab of tabs | filter: filterRule">\n    <nz-tab [nzTitle]="titleTemplate">\n      <ng-template #titleTemplate>\n        <div class="flex">\n          <span class="label">{{ tab.title + \'ï¼š\' }}</span>\n          <ng-container *ngIf="(tab.searchValue | translate: tab.lexicon || lexicon)?.length > 10; else textTemplate">\n            <div nz-popover nzTrigger="hover" [nzContent]="textTemplate" nzPlacement="bottom">\n              <span class="value text-ellipsis">\n                {{ tab.displayValue || tab.searchValue | translate: tab.lexicon || lexicon }}\n              </span>\n            </div>\n          </ng-container>\n\n          <ng-template #textTemplate>\n            <div>\n              <span class="value">\n                {{ tab.displayValue || tab.searchValue | translate: tab.lexicon || lexicon }}\n              </span>\n            </div>\n          </ng-template>\n\n          <div>\n            <i nz-icon nzType="close" class="ant-tabs-close-x" (click)="onClose(tab)"></i>\n          </div>\n        </div>\n      </ng-template>\n    </nz-tab>\n  </ng-container>\n</nz-tabset>\n',changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.Emulated,styles:[".text-ellipsis{display:inline-block;max-width:180px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;vertical-align:top}.flex{display:flex;align-items:center;justify-content:center}.label{color:#515151}.value{color:#1890ff}:host ::ng-deep .ant-tabs.ant-tabs-card .ant-tabs-bar{margin:0 0 2px;border:none}:host ::ng-deep .ant-tabs.ant-tabs-card .ant-tabs-bar .ant-tabs-tab{height:30px;margin:0 2px 0 0;padding:0 16px;line-height:28px;background:#fafafa;border:1px solid #e8e8e8!important;border-radius:4px;transition:.3s cubic-bezier(.645,.045,.355,1)}:host ::ng-deep .ant-tabs.ant-tabs-card .ant-tabs-bar .ant-tabs-nav-container{height:31px}:host ::ng-deep .ant-tabs.ant-tabs-card .ant-tabs-bar .ant-tabs-tab-active{font-weight:400}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={tabs:[{type:n.Input}],lexicon:[{type:n.Input}],tabsChange:[{type:n.Output}],queryChange:[{type:n.Output}],closeTab:[{type:n.Output}],filterRule:[{type:n.Input}]},e}();var l=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{declarations:[i],imports:[t.CommonModule,a.TranslatePipeModule,a.FilterPipeModule,o.NgZorroAntdModule],exports:[t.CommonModule,a.TranslatePipeModule,a.FilterPipeModule,o.NgZorroAntdModule,i]}]}],e}();e.QueryTabsComponent=i,e.QueryTabsModule=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=queryTabs.umd.min.js.map