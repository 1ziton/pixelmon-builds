{"version":3,"file":"steps.umd.js","sources":["ng://@pixelmon/pikachu/steps/steps.component.ts","ng://@pixelmon/pikachu/steps/steps.module.ts","ng://@pixelmon/pikachu/steps/steps.interface.ts"],"sourcesContent":["import { Component, OnInit, Input, ChangeDetectionStrategy, ElementRef, OnChanges, SimpleChanges, TemplateRef } from '@angular/core';\nimport { Step } from './steps.interface';\nimport { DomHandler } from '@pixelmon/util';\n\n@Component({\n  selector: 'p-steps',\n  templateUrl: './steps.component.html',\n  styleUrls: ['./steps.component.less'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class StepsComponent implements OnInit, OnChanges {\n  @Input() activeBackground = '#1ECB8E';\n  @Input() activeWidth = '0%';\n  @Input() inactiveBackground = '#EAF0F0';\n  @Input() backgroundImage = '';\n\n  @Input() activePointTemplate: TemplateRef<void>;\n  @Input() activePointColor = '#1ECB8E';\n  @Input() activeContentColor = '#FFFFFF';\n  @Input() activeContentBackground = '#1ECB8E';\n  @Input() activeContentAlign: 'left' | 'right';\n  @Input() activeStep: Step;\n\n  @Input() keyPointTemplate: TemplateRef<void>;\n  @Input() keyPointColor = '#1ECB8E';\n  @Input() keyContentColor = '#999999';\n  @Input() keyContentBackground = 'transparent';\n  @Input() keySteps: Step[] = [];\n\n  @Input() extraPointTemplate: TemplateRef<void>;\n  @Input() extraPointColor = '#F5A623';\n  @Input() extraContentColor = '#333333';\n  @Input() extraContentBackground = '#FFFFFF';\n  @Input() extraContentAlign: 'left' | 'right';\n  @Input() extraSteps: Step[] = [];\n\n  constructor(private _el: ElementRef) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.activeStep) {\n      setTimeout(() => {\n        this.updateContentAlign('.p-steps-active-step-content', [this.activeStep]);\n      });\n    }\n    if (changes.extraSteps) {\n      setTimeout(() => {\n        this.updateContentAlign('.p-steps-extra-step-content', this.extraSteps);\n      });\n    }\n  }\n\n  ngOnInit() {}\n\n  /**\n   * æ´æ°å¯¹é½\n   * @param contentSelector contentçéæ©å¨\n   * @param steps å¯¹åºçsteps\n   */\n  updateContentAlign(contentSelector: string, steps: Step[]) {\n    const container = this._el.nativeElement.querySelector('.p-steps-container');\n\n    if (!container) {\n      return;\n    }\n\n    const containerWidth = DomHandler.getOuterWidth(container);\n    const containerOffsetLeft = DomHandler.getOffset(container).left;\n\n    const contents = this._el.nativeElement.querySelectorAll(contentSelector);\n\n    if (!contents) {\n      return;\n    }\n\n    for (let index = 0; index < contents.length; index++) {\n      const content = contents[index];\n      const contentWidth = DomHandler.getOuterWidth(content);\n      const contentOffsetLeft = DomHandler.getOffset(content).left;\n\n      // ååæ¯è½å°½éå·¦å¯¹é½\n      if (steps[index].smartContentAlign === 'right') {\n        if (contentWidth * 2 + contentOffsetLeft < containerWidth + containerOffsetLeft) {\n          // å·¦å¯¹é½\n          steps[index].smartContentAlign = 'left';\n        }\n      } else if (contentWidth + contentOffsetLeft > containerWidth + containerOffsetLeft) {\n        // å³å¯¹é½\n        steps[index].smartContentAlign = 'right';\n      } else {\n        // å·¦å¯¹é½\n        steps[index].smartContentAlign = 'left';\n      }\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { StepsComponent } from './steps.component';\n\n@NgModule({\n  declarations: [StepsComponent],\n  imports: [CommonModule],\n  exports: [StepsComponent],\n})\nexport class StepsModule {}\n","export interface Step {\n  index: string;\n  title: string;\n  subTitle?: string;\n  description?: string;\n  pointColor?: string;\n  contentColor?: string;\n  contentBackground?: string;\n  contentAlign?: 'left' | 'right';\n  smartContentAlign?: 'left' | 'right';\n  hiddenContent?: boolean;\n}\n"],"names":["DomHandler","Component","ChangeDetectionStrategy","ElementRef","Input","NgModule","CommonModule"],"mappings":";;;;;;;;;;AAAA;QAoCE,wBAAoB,GAAe;YAAf,QAAG,GAAH,GAAG,CAAY;YAzB1B,qBAAgB,GAAG,SAAS,CAAC;YAC7B,gBAAW,GAAG,IAAI,CAAC;YACnB,uBAAkB,GAAG,SAAS,CAAC;YAC/B,oBAAe,GAAG,EAAE,CAAC;YAGrB,qBAAgB,GAAG,SAAS,CAAC;YAC7B,uBAAkB,GAAG,SAAS,CAAC;YAC/B,4BAAuB,GAAG,SAAS,CAAC;YAKpC,kBAAa,GAAG,SAAS,CAAC;YAC1B,oBAAe,GAAG,SAAS,CAAC;YAC5B,yBAAoB,GAAG,aAAa,CAAC;YACrC,aAAQ,GAAW,EAAE,CAAC;YAGtB,oBAAe,GAAG,SAAS,CAAC;YAC5B,sBAAiB,GAAG,SAAS,CAAC;YAC9B,2BAAsB,GAAG,SAAS,CAAC;YAEnC,eAAU,GAAW,EAAE,CAAC;SAEM;;;;;QAEvC,oCAAW;;;;QAAX,UAAY,OAAsB;YAAlC,iBAWC;YAVC,IAAI,OAAO,CAAC,UAAU,EAAE;gBACtB,UAAU;;;gBAAC;oBACT,KAAI,CAAC,kBAAkB,CAAC,8BAA8B,EAAE,CAAC,KAAI,CAAC,UAAU,CAAC,CAAC,CAAC;iBAC5E,EAAC,CAAC;aACJ;YACD,IAAI,OAAO,CAAC,UAAU,EAAE;gBACtB,UAAU;;;gBAAC;oBACT,KAAI,CAAC,kBAAkB,CAAC,6BAA6B,EAAE,KAAI,CAAC,UAAU,CAAC,CAAC;iBACzE,EAAC,CAAC;aACJ;SACF;;;;QAED,iCAAQ;;;QAAR,eAAa;;;;;;;;;;;;QAOb,2CAAkB;;;;;;QAAlB,UAAmB,eAAuB,EAAE,KAAa;;gBACjD,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,aAAa,CAAC,oBAAoB,CAAC;YAE5E,IAAI,CAAC,SAAS,EAAE;gBACd,OAAO;aACR;;gBAEK,cAAc,GAAGA,eAAU,CAAC,aAAa,CAAC,SAAS,CAAC;;gBACpD,mBAAmB,GAAGA,eAAU,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI;;gBAE1D,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,gBAAgB,CAAC,eAAe,CAAC;YAEzE,IAAI,CAAC,QAAQ,EAAE;gBACb,OAAO;aACR;YAED,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,QAAQ,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;;oBAC9C,OAAO,GAAG,QAAQ,CAAC,KAAK,CAAC;;oBACzB,YAAY,GAAGA,eAAU,CAAC,aAAa,CAAC,OAAO,CAAC;;oBAChD,iBAAiB,GAAGA,eAAU,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,IAAI;;gBAG5D,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC,iBAAiB,KAAK,OAAO,EAAE;oBAC9C,IAAI,YAAY,GAAG,CAAC,GAAG,iBAAiB,GAAG,cAAc,GAAG,mBAAmB,EAAE;;wBAE/E,KAAK,CAAC,KAAK,CAAC,CAAC,iBAAiB,GAAG,MAAM,CAAC;qBACzC;iBACF;qBAAM,IAAI,YAAY,GAAG,iBAAiB,GAAG,cAAc,GAAG,mBAAmB,EAAE;;oBAElF,KAAK,CAAC,KAAK,CAAC,CAAC,iBAAiB,GAAG,OAAO,CAAC;iBAC1C;qBAAM;;oBAEL,KAAK,CAAC,KAAK,CAAC,CAAC,iBAAiB,GAAG,MAAM,CAAC;iBACzC;aACF;SACF;;oBAzFFC,cAAS,SAAC;wBACT,QAAQ,EAAE,SAAS;wBACnB,6kWAAqC;wBAErC,eAAe,EAAEC,4BAAuB,CAAC,MAAM;;qBAChD;;;;oBAT2DC,eAAU;;;uCAWnEC,UAAK;kCACLA,UAAK;yCACLA,UAAK;sCACLA,UAAK;0CAELA,UAAK;uCACLA,UAAK;yCACLA,UAAK;8CACLA,UAAK;yCACLA,UAAK;iCACLA,UAAK;uCAELA,UAAK;oCACLA,UAAK;sCACLA,UAAK;2CACLA,UAAK;+BACLA,UAAK;yCAELA,UAAK;sCACLA,UAAK;wCACLA,UAAK;6CACLA,UAAK;wCACLA,UAAK;iCACLA,UAAK;;QA4DR,qBAAC;KA1FD,IA0FC;;;QAnFC,0CAAsC;;QACtC,qCAA4B;;QAC5B,4CAAwC;;QACxC,yCAA8B;;QAE9B,6CAAgD;;QAChD,0CAAsC;;QACtC,4CAAwC;;QACxC,iDAA6C;;QAC7C,4CAA8C;;QAC9C,oCAA0B;;QAE1B,0CAA6C;;QAC7C,uCAAmC;;QACnC,yCAAqC;;QACrC,8CAA8C;;QAC9C,kCAA+B;;QAE/B,4CAA+C;;QAC/C,yCAAqC;;QACrC,2CAAuC;;QACvC,gDAA4C;;QAC5C,2CAA6C;;QAC7C,oCAAiC;;;;;QAErB,6BAAuB;;;;;;;ACpCrC;QAIA;SAK2B;;oBAL1BC,aAAQ,SAAC;wBACR,YAAY,EAAE,CAAC,cAAc,CAAC;wBAC9B,OAAO,EAAE,CAACC,mBAAY,CAAC;wBACvB,OAAO,EAAE,CAAC,cAAc,CAAC;qBAC1B;;QACyB,kBAAC;KAL3B;;;;;;;;;ICJA,mBAWC;;;QAVC,qBAAc;;QACd,qBAAc;;QACd,wBAAkB;;QAClB,2BAAqB;;QACrB,0BAAoB;;QACpB,4BAAsB;;QACtB,iCAA2B;;QAC3B,4BAAgC;;QAChC,iCAAqC;;QACrC,6BAAwB;;;;;;;;;;;;;;"}