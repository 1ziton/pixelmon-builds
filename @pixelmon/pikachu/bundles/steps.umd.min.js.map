{"version":3,"sources":["ng://@pixelmon/pikachu/steps/steps.component.ts","ng://@pixelmon/pikachu/steps/steps.module.ts"],"names":["StepsComponent","_el","this","activeBackground","activeWidth","inactiveBackground","backgroundImage","activePointColor","activeContentColor","activeContentBackground","keyPointColor","keyContentColor","keyContentBackground","keySteps","extraPointColor","extraContentColor","extraContentBackground","extraSteps","prototype","ngOnChanges","changes","_this","activeStep","setTimeout","updateContentAlign","ngOnInit","contentSelector","steps","container","nativeElement","querySelector","containerWidth","DomHandler","getOuterWidth","containerOffsetLeft","getOffset","left","contents","querySelectorAll","index","length","content","contentWidth","contentOffsetLeft","smartContentAlign","Component","args","selector","template","changeDetection","ChangeDetectionStrategy","OnPush","ElementRef","Input","StepsModule","NgModule","declarations","imports","CommonModule","exports"],"mappings":"geAAA,IAAAA,EAAA,WAoCE,SAAAA,EAAoBC,GAAAC,KAAAD,IAAAA,EAzBXC,KAAAC,iBAAmB,UACnBD,KAAAE,YAAc,KACdF,KAAAG,mBAAqB,UACrBH,KAAAI,gBAAkB,GAGlBJ,KAAAK,iBAAmB,UACnBL,KAAAM,mBAAqB,UACrBN,KAAAO,wBAA0B,UAK1BP,KAAAQ,cAAgB,UAChBR,KAAAS,gBAAkB,UAClBT,KAAAU,qBAAuB,cACvBV,KAAAW,SAAmB,GAGnBX,KAAAY,gBAAkB,UAClBZ,KAAAa,kBAAoB,UACpBb,KAAAc,uBAAyB,UAEzBd,KAAAe,WAAqB,GA4DhC,OAxDEjB,EAAAkB,UAAAC,YAAA,SAAYC,GAAZ,IAAAC,EAAAnB,KACMkB,EAAQE,YACVC,WAAU,WACRF,EAAKG,mBAAmB,+BAAgC,CAACH,EAAKC,eAG9DF,EAAQH,YACVM,WAAU,WACRF,EAAKG,mBAAmB,8BAA+BH,EAAKJ,eAKlEjB,EAAAkB,UAAAO,SAAA,aAOAzB,EAAAkB,UAAAM,mBAAA,SAAmBE,EAAyBC,OACpCC,EAAY1B,KAAKD,IAAI4B,cAAcC,cAAc,sBAEvD,GAAKF,EAAL,KAIMG,EAAiBC,EAAAA,WAAWC,cAAcL,GAC1CM,EAAsBF,EAAAA,WAAWG,UAAUP,GAAWQ,KAEtDC,EAAWnC,KAAKD,IAAI4B,cAAcS,iBAAiBZ,GAEzD,GAAKW,EAIL,IAAK,IAAIE,EAAQ,EAAGA,EAAQF,EAASG,OAAQD,IAAS,KAC9CE,EAAUJ,EAASE,GACnBG,EAAeV,EAAAA,WAAWC,cAAcQ,GACxCE,EAAoBX,EAAAA,WAAWG,UAAUM,GAASL,KAGjB,UAAnCT,EAAMY,GAAOK,kBACI,EAAfF,EAAmBC,EAAoBZ,EAAiBG,IAE1DP,EAAMY,GAAOK,kBAAoB,QAInCjB,EAAMY,GAAOK,kBAFJF,EAAeC,EAAoBZ,EAAiBG,EAE5B,QAGA,8BAtFxCW,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,UACVC,SAAA,ggWAEAC,gBAAiBC,EAAAA,wBAAwBC,upFARiBC,EAAAA,wDAWzDC,EAAAA,2BACAA,EAAAA,kCACAA,EAAAA,+BACAA,EAAAA,mCAEAA,EAAAA,gCACAA,EAAAA,kCACAA,EAAAA,uCACAA,EAAAA,kCACAA,EAAAA,0BACAA,EAAAA,gCAEAA,EAAAA,6BACAA,EAAAA,+BACAA,EAAAA,oCACAA,EAAAA,wBACAA,EAAAA,kCAEAA,EAAAA,+BACAA,EAAAA,iCACAA,EAAAA,sCACAA,EAAAA,iCACAA,EAAAA,0BACAA,EAAAA,SA4DHrD,EA9FA,GCAA,IAAAsD,EAAA,WAIA,SAAAA,KAK0B,2BALzBC,EAAAA,SAAQT,KAAA,CAAC,CACRU,aAAc,CAACxD,GACfyD,QAAS,CAACC,EAAAA,cACVC,QAAS,CAAC3D,OAEcsD,EAT1B","sourcesContent":["import { Component, OnInit, Input, ChangeDetectionStrategy, ElementRef, OnChanges, SimpleChanges, TemplateRef } from '@angular/core';\nimport { Step } from './steps.interface';\nimport { DomHandler } from '@pixelmon/util';\n\n@Component({\n  selector: 'p-steps',\n  templateUrl: './steps.component.html',\n  styleUrls: ['./steps.component.less'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class StepsComponent implements OnInit, OnChanges {\n  @Input() activeBackground = '#1ECB8E';\n  @Input() activeWidth = '0%';\n  @Input() inactiveBackground = '#EAF0F0';\n  @Input() backgroundImage = '';\n\n  @Input() activePointTemplate: TemplateRef<void>;\n  @Input() activePointColor = '#1ECB8E';\n  @Input() activeContentColor = '#FFFFFF';\n  @Input() activeContentBackground = '#1ECB8E';\n  @Input() activeContentAlign: 'left' | 'right';\n  @Input() activeStep: Step;\n\n  @Input() keyPointTemplate: TemplateRef<void>;\n  @Input() keyPointColor = '#1ECB8E';\n  @Input() keyContentColor = '#999999';\n  @Input() keyContentBackground = 'transparent';\n  @Input() keySteps: Step[] = [];\n\n  @Input() extraPointTemplate: TemplateRef<void>;\n  @Input() extraPointColor = '#F5A623';\n  @Input() extraContentColor = '#333333';\n  @Input() extraContentBackground = '#FFFFFF';\n  @Input() extraContentAlign: 'left' | 'right';\n  @Input() extraSteps: Step[] = [];\n\n  constructor(private _el: ElementRef) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.activeStep) {\n      setTimeout(() => {\n        this.updateContentAlign('.p-steps-active-step-content', [this.activeStep]);\n      });\n    }\n    if (changes.extraSteps) {\n      setTimeout(() => {\n        this.updateContentAlign('.p-steps-extra-step-content', this.extraSteps);\n      });\n    }\n  }\n\n  ngOnInit() {}\n\n  /**\n   * æ´æ°å¯¹é½\n   * @param contentSelector contentçéæ©å¨\n   * @param steps å¯¹åºçsteps\n   */\n  updateContentAlign(contentSelector: string, steps: Step[]) {\n    const container = this._el.nativeElement.querySelector('.p-steps-container');\n\n    if (!container) {\n      return;\n    }\n\n    const containerWidth = DomHandler.getOuterWidth(container);\n    const containerOffsetLeft = DomHandler.getOffset(container).left;\n\n    const contents = this._el.nativeElement.querySelectorAll(contentSelector);\n\n    if (!contents) {\n      return;\n    }\n\n    for (let index = 0; index < contents.length; index++) {\n      const content = contents[index];\n      const contentWidth = DomHandler.getOuterWidth(content);\n      const contentOffsetLeft = DomHandler.getOffset(content).left;\n\n      // ååæ¯è½å°½éå·¦å¯¹é½\n      if (steps[index].smartContentAlign === 'right') {\n        if (contentWidth * 2 + contentOffsetLeft < containerWidth + containerOffsetLeft) {\n          // å·¦å¯¹é½\n          steps[index].smartContentAlign = 'left';\n        }\n      } else if (contentWidth + contentOffsetLeft > containerWidth + containerOffsetLeft) {\n        // å³å¯¹é½\n        steps[index].smartContentAlign = 'right';\n      } else {\n        // å·¦å¯¹é½\n        steps[index].smartContentAlign = 'left';\n      }\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { StepsComponent } from './steps.component';\n\n@NgModule({\n  declarations: [StepsComponent],\n  imports: [CommonModule],\n  exports: [StepsComponent],\n})\nexport class StepsModule {}\n"]}