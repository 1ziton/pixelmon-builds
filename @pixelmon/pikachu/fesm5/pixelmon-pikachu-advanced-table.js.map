{"version":3,"file":"pixelmon-pikachu-advanced-table.js","sources":["ng://@pixelmon/pikachu/advanced-table/advanced-cell.component.ts","ng://@pixelmon/pikachu/advanced-table/advanced-filter.component.ts","ng://@pixelmon/pikachu/advanced-table/advanced-table.component.ts","ng://@pixelmon/pikachu/advanced-table/advanced-table.module.ts"],"sourcesContent":["import { Component, OnInit, ContentChild, TemplateRef, Input } from '@angular/core';\n\n@Component({\n  selector: 'p-advancedCell',\n  template: '<ng-content> </ng-content>',\n})\nexport class AdvancedCellComponent implements OnInit {\n  @Input() field = ''; // å¯¹åºå\n  @ContentChild(TemplateRef, { static: false }) templateRef: TemplateRef<any>; // æ¨¡æ¿\n\n  constructor() {}\n\n  ngOnInit() {}\n}\n","import { Component, OnInit, ContentChild, TemplateRef, Input } from '@angular/core';\n\n@Component({\n  selector: 'p-advancedFilter',\n  template: '<ng-content> </ng-content>',\n})\nexport class AdvancedFilterComponent implements OnInit {\n  @Input() field = ''; // å¯¹åºå\n  @ContentChild(TemplateRef, { static: false }) templateRef: TemplateRef<any>; // æ¨¡æ¿\n\n  constructor() {}\n\n  ngOnInit() {}\n}\n","/**\n * @Description: è¡¨æ ¼ç»ä»¶\n * @Author: zomixi\n * @Date: 2019-07-05 10:06:41\n */\n\nimport { formatDate } from '@angular/common';\nimport {\n  AfterContentInit,\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer2,\n  TemplateRef,\n} from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { AdvancedCellComponent } from './advanced-cell.component';\nimport { AdvancedFilterComponent } from './advanced-filter.component';\nimport { AdvancedTableColumn, PageParams, AdvancedTableRow } from './advanced-table.module';\nimport { NzDropDownComponent } from 'ng-zorro-antd';\n\n@Component({\n  selector: 'p-advancedTable',\n  templateUrl: './advanced-table.component.html',\n  styleUrls: ['./advanced-table.component.less'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AdvancedTableComponent implements OnChanges, OnInit, AfterViewInit, AfterContentInit, OnDestroy {\n  @Input() columns: AdvancedTableColumn[] = []; // åæ°æ®\n  @Input() data: { data: AdvancedTableRow[]; totalSize: number } = { data: [], totalSize: 0 }; // è¡¨æ ¼æ°æ®\n  @Input() selections: AdvancedTableRow[] = []; // å·²éé¡¹\n  @Input() scroll: { x?: string | null; y?: string | null }; // åºå®è¡¨å¤´ï¼æ»å¨\n  @Input() loading = false; // è¡¨æ ¼loading\n  @Input() pageSize = 10; // æ¾ç¤ºæ¡æ°\n  @Input() frontPagination = false; // æ¯å¦åç«¯åé¡µ\n  @Input() showPagination = true; // æ¯å¦æ¾ç¤ºåé¡µå¨\n  @Input() fixedPagination = false; // æ¯å¦åºå®åé¡µå¨\n  @Input() showSizeChanger = true; // æ¯å¦æ¾ç¤ºæ¡æ°åæ¢å¨\n  @Input() size = 'middle'; // è¡¨æ ¼size\n  @Input() pageSizeOptions = [10, 30, 50, 100]; // é¡µæ°éæ©å¨å¯éå¼\n  @Input() showCheckbox = false; // æ¯å¦æ¾ç¤ºå¤éæ¡\n  @Input() titleTemplate: TemplateRef<void>; // titleæ¨¡æ¿\n\n  @Output() columnsChange: EventEmitter<AdvancedTableColumn[]> = new EventEmitter(); // åæ°æ®æ¹åäºä»¶ ç¨äºååç»å®\n  @Output() selectionsChange: EventEmitter<AdvancedTableRow[]> = new EventEmitter(); // å·²éé¡¹æ¹åäºä»¶ ç¨äºååç»å®\n  @Output() load: EventEmitter<PageParams> = new EventEmitter(); // loadäºä»¶\n  @Output() sort: EventEmitter<{ key: string; value: 'descend' | 'ascend' | null }> = new EventEmitter(); // æåºäºä»¶\n  @Output() linkClick: EventEmitter<{ field: string; rowData: any }> = new EventEmitter(); // é¾æ¥ç¹å»äºä»¶\n\n  @ContentChildren(AdvancedCellComponent) customCells: AdvancedCellComponent[]; // èªå®ä¹ååæ ¼\n  @ContentChildren(AdvancedFilterComponent) customFilters: AdvancedFilterComponent[]; // èªå®ä¹æç´¢ç»ä»¶\n\n  load$: Subject<any> = new Subject(); // loadæµ\n\n  displayData: AdvancedTableRow[] = []; // å½åæ¾ç¤ºæ°æ®\n  pageIndex = 1; // å½åé¡µç \n  sortParams: { key: string; value: 'descend' | 'ascend' | null };\n\n  constructor(private _elementRef: ElementRef, private _renderer2: Renderer2) {}\n\n  ngOnChanges(changes) {\n    if (changes.data) {\n      // éèµ°sort\n      if (this.sortParams && this.sortParams.key && this.sortParams.value) {\n        this.onSort(this.sortParams);\n      }\n    }\n    if (changes.columns) {\n      // æ¯ä¸æéæ©çèªå¨æ·»å è¯å¸\n      changes.columns.currentValue.forEach(column => {\n        if (column.showFilter && column.filterType === 'select' && Array.isArray(column.filterOptions)) {\n          column.lexicon = column.lexicon ? [...column.lexicon, ...column.filterOptions] : column.filterOptions;\n        }\n      });\n    }\n    if (changes.selections) {\n      this.updateCheckedBySelections();\n    }\n  }\n\n  ngOnInit() {\n    /* tslint:disable */\n    this.load$.pipe(debounceTime(20)).subscribe(() => {\n      // æ¸ç©ºselections\n      this.selections = [];\n      this.selectionsChange.emit(this.selections);\n      // ååºloadäºä»¶\n      this.load.emit({ page: this.pageIndex, size: this.pageSize });\n    });\n  }\n\n  ngAfterViewInit() {\n    // é¡µé¢åå§åå®æåèªå¨loadä¸æ¬¡\n    this.load$.next();\n    if (this.fixedPagination) {\n      this.toFixedPagination();\n    }\n  }\n\n  ngAfterContentInit() {\n    // èµå¼èªå®ä¹ååæ ¼\n    this.customCells.forEach(customCell => {\n      const findedColumn = this.columns.find(column => column.field === customCell.field);\n      if (findedColumn) findedColumn.customCell = customCell.templateRef;\n    });\n    // èµå¼èªå®ä¹æç´¢ç»ä»¶\n    this.customFilters.forEach(customFilter => {\n      const findedColumn = this.columns.find(column => column.field === customFilter.field);\n      if (findedColumn) {\n        findedColumn.showFilter = true;\n        findedColumn.customFilter = customFilter.templateRef;\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    // ä¸ä½¿ç¨takeUntilæ¯å ä¸ºç´æ¥unsubscribeæ§è½æ´å¥½\n    this.load$.unsubscribe();\n  }\n\n  /**\n   * è¡¨æ ¼å½åæ¾ç¤ºæ°æ®æ¹ååè°\n   * @param currentData å½åé¡µæ¾ç¤ºæ°æ®\n   */\n  currentPageDataChange(currentData: any[]): void {\n    this.displayData = currentData;\n  }\n\n  /**\n   * åéæ¹ååè°\n   */\n  singleCheckChange(): void {\n    this.updateSelectionsByChecked();\n  }\n\n  /**\n   * å¨éå¤éæ¡æ¹ååè°\n   * @param isChecked æ¯å¦å¨é\n   */\n  allCheckChange(isChecked: boolean): void {\n    this.displayData.forEach(row => (row.isChecked = isChecked));\n    this.updateSelectionsByChecked();\n  }\n\n  /**\n   * æ ¹æ®checkedæ´æ°selections\n   */\n  updateSelectionsByChecked(): void {\n    this.selections = this.displayData.filter(row => row.isChecked);\n    this.selectionsChange.emit(this.selections);\n  }\n\n  /**\n   * æ ¹æ®selectionsæ´æ°checked\n   */\n  updateCheckedBySelections(): void {\n    this.displayData.forEach(row => (row.isChecked = this.selections.includes(row)));\n  }\n\n  /**\n   * é¡µç æ¹ååè°\n   */\n  pageIndexChange(): void {\n    this.load$.next();\n  }\n\n  /**\n   * æ¾ç¤ºæ¡æ°æ¹ååè°\n   */\n  pageSizeChange(): void {\n    // æ¾ç¤ºæ¡æ°æ¹åæ¶åå°é¦é¡µ\n    this.pageIndex = 1;\n    this.load$.next();\n  }\n\n  /**\n   * æåºæ¹å\n   * @param sortParams æåºåæ°\n   */\n  onSort(sortParams: { key: string; value: 'descend' | 'ascend' | null }): void {\n    // ä¿å­æåºåæ°ï¼ç¨äºä¸æ¬¡æ°æ®è¿æ¥åè¿è¡æåº\n    this.sortParams = sortParams;\n    // æ¥æ¾æ­£å¨æåºçå\n    const sortColumn = this.columns.find(column => column.field === sortParams.key);\n\n    // å¦ææ²¡æèªå®ä¹æåºï¼èªå¨åç«¯æåº\n    if (sortColumn && !sortColumn.customSort) {\n      this.data.data.sort((previous, further) =>\n        sortParams.value === 'descend'\n          ? further[sortParams.key] > previous[sortParams.key]\n            ? 1\n            : -1\n          : previous[sortParams.key] > further[sortParams.key]\n          ? 1\n          : -1,\n      );\n      this.data.data = [...this.data.data];\n    }\n    this.sort.emit(sortParams);\n  }\n\n  /**\n   * æ¥ææ¹ååè°\n   * @param isOpen æ¯å¦æå¼\n   * @param column å½ååæ¨¡åæ°æ®\n   */\n  onRangePickerOpenChange(isOpen: boolean, column: AdvancedTableColumn): void {\n    if (isOpen === false) {\n      const date = column.searchValue;\n      if (date && Array.isArray(date) && date.length === 2) {\n        column.searchValue = [formatDate(date[0], 'yyyy-MM-dd 00:00:00', 'zh_CN'), formatDate(date[1], 'yyyy-MM-dd 23:59:59', 'zh_CN')];\n        column.displayValue = [formatDate(date[0], 'yyyy-MM-dd', 'zh_CN'), formatDate(date[1], 'yyyy-MM-dd', 'zh_CN')];\n      }\n    }\n  }\n\n  /**\n   * æ¥è¯¢ç¡®è®¤åè°\n   */\n  onFilterConfim(dropdown: NzDropDownComponent): void {\n    dropdown.setVisibleStateWhen(false);\n    this.columns = [...this.columns];\n    this.columnsChange.emit(this.columns);\n  }\n\n  /**\n   * åºå®åé¡µ\n   */\n  toFixedPagination(): void {\n    // æ²¡ææ»å¨æ¡æ¶åææ»å¨æ¡æ¶tableBodyä¼ä¸ä¸æ ·ï¼æåç»ä¸æ»å¨æ¡\n    this.scroll = { y: '0px' };\n    // ç­å¾æ»å¨æ¡æ´æ°\n    setTimeout(() => {\n      const windowHeight = document.documentElement.clientHeight;\n      const tableBody = this._elementRef.nativeElement.querySelector('.ant-table-body');\n      const pagination = this._elementRef.nativeElement.querySelector('nz-pagination');\n      const tableBodyTop = tableBody.getBoundingClientRect().top;\n      const scrollHeight = windowHeight - tableBodyTop - pagination.clientHeight - 8 + 'px';\n      this.scroll = { ...this.scroll, y: scrollHeight };\n      this._renderer2.setStyle(tableBody, 'height', scrollHeight);\n    });\n  }\n\n  onlinkClick(field: string, rowData: any) {\n    this.linkClick.emit({ field, rowData });\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule, TemplateRef } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { ViewerDirectiveModule } from '@pixelmon/pikachu/viewer';\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\nimport { AdvancedCellComponent } from './advanced-cell.component';\nimport { AdvancedFilterComponent } from './advanced-filter.component';\nimport { AdvancedTableComponent } from './advanced-table.component';\nimport { SmartTextModule } from '@pixelmon/pikachu/smart-text';\nimport { QueryTab } from '@pixelmon/pikachu/query-tabs';\n\nconst COMPONENT = [AdvancedTableComponent, AdvancedCellComponent, AdvancedFilterComponent];\n\nconst MODULE = [CommonModule, FormsModule, NgZorroAntdModule, SmartTextModule, ViewerDirectiveModule];\n\n@NgModule({\n  declarations: [...COMPONENT],\n  imports: [...MODULE],\n  exports: [...MODULE, ...COMPONENT],\n})\nexport class AdvancedTableModule {}\n\n// åæ°æ®æ¥å£\nexport interface AdvancedTableColumn extends QueryTab {\n  title: string;\n  field: string;\n  width?: string;\n  left?: string;\n  right?: string;\n  type?: 'link' | 'thumbnail';\n  customCell?: TemplateRef<any>; // èªå®ä¹ååæ ¼\n  // æåºç¸å³\n  showSort?: boolean; // æ¯å¦æ¾ç¤ºæåº\n  sortValue?: 'descend' | 'ascend' | null; // å½åæåºç¶æ\n  customSort?: boolean; // æ¯å¦èªå®ä¹æåº\n  // æç´¢ç¸å³\n  showFilter?: boolean; // æ¯å¦æ¾ç¤ºæç´¢\n  filterType?: string; // æç´¢ç»ä»¶ç±»å\n  filterOptions?: { label: string; value: any }[]; // ä¸ææç´¢ç»ä»¶éé¡¹\n  filterWidth?: string; // ä¸ææç´¢ç»ä»¶å®½åº¦\n  filterMultiple?: boolean; // æ¯å¦å¤é\n  customFilter?: TemplateRef<any>; // èªå®ä¹æç´¢ç»ä»¶\n}\n\nexport interface AdvancedTableRow {\n  isChecked: boolean;\n  [key: string]: any;\n}\n\n// åé¡µåæ°æ¥å£\nexport interface PageParams {\n  page: number;\n  size: number;\n}\n"],"names":[],"mappings":"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"}