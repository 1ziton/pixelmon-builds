{"version":3,"file":"steps.js","sources":["ng://@pixelmon/pikachu/steps/steps.component.ts","ng://@pixelmon/pikachu/steps/steps.module.ts","ng://@pixelmon/pikachu/steps/steps.interface.ts"],"sourcesContent":["import { Component, OnInit, Input, ChangeDetectionStrategy, ElementRef, OnChanges, SimpleChanges, TemplateRef } from '@angular/core';\nimport { Step } from './steps.interface';\nimport { DomHandler } from '@pixelmon/util';\n\n@Component({\n  selector: 'p-steps',\n  templateUrl: './steps.component.html',\n  styleUrls: ['./steps.component.less'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class StepsComponent implements OnInit, OnChanges {\n  @Input() activeBackground = '#1ECB8E';\n  @Input() activeWidth = '0%';\n  @Input() inactiveBackground = '#EAF0F0';\n  @Input() backgroundImage = '';\n\n  @Input() activePointTemplate: TemplateRef<void>;\n  @Input() activePointColor = '#1ECB8E';\n  @Input() activeContentColor = '#FFFFFF';\n  @Input() activeContentBackground = '#1ECB8E';\n  @Input() activeContentAlign: 'left' | 'right';\n  @Input() activeStep: Step;\n\n  @Input() keyPointTemplate: TemplateRef<void>;\n  @Input() keyPointColor = '#1ECB8E';\n  @Input() keyContentColor = '#999999';\n  @Input() keyContentBackground = 'transparent';\n  @Input() keySteps: Step[] = [];\n\n  @Input() extraPointTemplate: TemplateRef<void>;\n  @Input() extraPointColor = '#F5A623';\n  @Input() extraContentColor = '#333333';\n  @Input() extraContentBackground = '#FFFFFF';\n  @Input() extraContentAlign: 'left' | 'right';\n  @Input() extraSteps: Step[] = [];\n\n  constructor(private _el: ElementRef) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.activeStep) {\n      setTimeout(() => {\n        this.updateContentAlign('.p-steps-active-step-content', [this.activeStep]);\n      });\n    }\n    if (changes.extraSteps) {\n      setTimeout(() => {\n        this.updateContentAlign('.p-steps-extra-step-content', this.extraSteps);\n      });\n    }\n  }\n\n  ngOnInit() {}\n\n  /**\n   * æ´æ°å¯¹é½\n   * @param contentSelector contentçéæ©å¨\n   * @param steps å¯¹åºçsteps\n   */\n  updateContentAlign(contentSelector: string, steps: Step[]) {\n    const container = this._el.nativeElement.querySelector('.p-steps-container');\n\n    if (!container) {\n      return;\n    }\n\n    const containerWidth = DomHandler.getOuterWidth(container);\n    const containerOffsetLeft = DomHandler.getOffset(container).left;\n\n    const contents = this._el.nativeElement.querySelectorAll(contentSelector);\n\n    if (!contents) {\n      return;\n    }\n\n    for (let index = 0; index < contents.length; index++) {\n      const content = contents[index];\n      const contentWidth = DomHandler.getOuterWidth(content);\n      const contentOffsetLeft = DomHandler.getOffset(content).left;\n\n      // ååæ¯è½å°½éå·¦å¯¹é½\n      if (steps[index].smartContentAlign === 'right') {\n        if (contentWidth * 2 + contentOffsetLeft < containerWidth + containerOffsetLeft) {\n          // å·¦å¯¹é½\n          steps[index].smartContentAlign = 'left';\n        }\n      } else if (contentWidth + contentOffsetLeft > containerWidth + containerOffsetLeft) {\n        // å³å¯¹é½\n        steps[index].smartContentAlign = 'right';\n      } else {\n        // å·¦å¯¹é½\n        steps[index].smartContentAlign = 'left';\n      }\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { StepsComponent } from './steps.component';\n\n@NgModule({\n  declarations: [StepsComponent],\n  imports: [CommonModule],\n  exports: [StepsComponent],\n})\nexport class StepsModule {}\n","export interface Step {\n  index: string;\n  title: string;\n  subTitle?: string;\n  description?: string;\n  pointColor?: string;\n  contentColor?: string;\n  contentBackground?: string;\n  contentAlign?: 'left' | 'right';\n  smartContentAlign?: 'left' | 'right';\n  hiddenContent?: boolean;\n}\n"],"names":[],"mappings":"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"}