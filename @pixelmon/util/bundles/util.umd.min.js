/**
 * @Based on pixelmon(cipchk@qq.com) v0.1.7
 * (c) 2019 developer(developer@1ziton.com)
 * 
 * Licensed under the MIT license:
 * https://opensource.org/licenses/MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("extend"),require("uuid/v1"),require("uuid/v3"),require("uuid/v4"),require("uuid/v5"),require("date-fns/add_days"),require("date-fns/end_of_day"),require("date-fns/end_of_month"),require("date-fns/end_of_week"),require("date-fns/end_of_year"),require("date-fns/parse"),require("date-fns/start_of_day"),require("date-fns/start_of_month"),require("date-fns/start_of_week"),require("date-fns/start_of_year"),require("date-fns/sub_months"),require("date-fns/sub_weeks"),require("date-fns/sub_years"),require("@angular/common"),require("rxjs"),require("rxjs/operators"),require("ng-zorro-antd/core")):"function"==typeof define&&define.amd?define("@pixelmon/util",["exports","@angular/core","extend","uuid/v1","uuid/v3","uuid/v4","uuid/v5","date-fns/add_days","date-fns/end_of_day","date-fns/end_of_month","date-fns/end_of_week","date-fns/end_of_year","date-fns/parse","date-fns/start_of_day","date-fns/start_of_month","date-fns/start_of_week","date-fns/start_of_year","date-fns/sub_months","date-fns/sub_weeks","date-fns/sub_years","@angular/common","rxjs","rxjs/operators","ng-zorro-antd/core"],t):t(((e=e||self).pixelmon=e.pixelmon||{},e.pixelmon.util={}),e.ng.core,e.Extend,e.v1,e.v3,e.v4,e.v5,e.addDays,e.endOfDay,e.endOfMonth,e.endOfWeek,e.endOfYear,e.parse,e.startOfDay,e.startOfMonth,e.startOfWeek,e.startOfYear,e.subMonths,e.subWeeks,e.subYears,e.ng.common,e.rxjs,e.rxjs.operators,e["ng-zorro-antd/core"])}(this,function(e,t,r,n,a,i,o,l,d,s,u,c,f,p,h,m,y,v,g,b,w,N,M,x){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r,n=n&&n.hasOwnProperty("default")?n.default:n,a=a&&a.hasOwnProperty("default")?a.default:a,i=i&&i.hasOwnProperty("default")?i.default:i,o=o&&o.hasOwnProperty("default")?o.default:o,l=l&&l.hasOwnProperty("default")?l.default:l,d=d&&d.hasOwnProperty("default")?d.default:d,s=s&&s.hasOwnProperty("default")?s.default:s,u=u&&u.hasOwnProperty("default")?u.default:u,c=c&&c.hasOwnProperty("default")?c.default:c,f=f&&f.hasOwnProperty("default")?f.default:f,p=p&&p.hasOwnProperty("default")?p.default:p,h=h&&h.hasOwnProperty("default")?h.default:h,m=m&&m.hasOwnProperty("default")?m.default:m,y=y&&y.hasOwnProperty("default")?y.default:y,v=v&&v.hasOwnProperty("default")?v.default:v,g=g&&g.hasOwnProperty("default")?g.default:g,b=b&&b.hasOwnProperty("default")?b.default:b;var C=function(){return(C=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function O(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function T(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o}function S(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(T(arguments[t]));return e}var _=function(){function e(e,t){this.viewContainer=e,this.defaultTemplate=t,this.inputTemplate=null,this.inputViewRef=null,this.defaultViewRef=null}return Object.defineProperty(e.prototype,"stringTemplateOutlet",{set:function(e){e instanceof t.TemplateRef?(this.isTemplate=!0,this.inputTemplate=e):this.isTemplate=!1,this.updateView()},enumerable:!0,configurable:!0}),e.prototype.updateView=function(){this.isTemplate?(this.inputViewRef&&(this.inputViewRef=null),this.viewContainer.clear(),this.defaultViewRef=null,this.inputViewRef=this.viewContainer.createEmbeddedView(this.inputTemplate)):this.defaultViewRef||(this.viewContainer.clear(),this.inputViewRef=null,this.defaultViewRef=this.viewContainer.createEmbeddedView(this.defaultTemplate))},e.decorators=[{type:t.Directive,args:[{selector:"[stringTemplateOutlet]"}]}],e.ctorParameters=function(){return[{type:t.ViewContainerRef},{type:t.TemplateRef}]},e.propDecorators={stringTemplateOutlet:[{type:t.Input}]},e}();function k(e,t,r){if(!e||null==t||0===t.length)return r;if(Array.isArray(t)||(t=~t.indexOf(".")?t.split("."):[t]),1===t.length){var n=e[t[0]];return void 0===n?r:n}var a=t.reduce(function(e,t){return(e||{})[t]},e);return void 0===a?r:a}function P(e){return r(!0,{},{_:e})._}function E(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(Array.isArray(e)||"object"!=typeof e)return e;var a=function(e){return"object"==typeof e||"function"==typeof e},i=function(e,r){return Object.keys(r).filter(function(e){return"__proto__"!==e&&Object.prototype.hasOwnProperty.call(r,e)}).forEach(function(n){var o=r[n],l=e[n];Array.isArray(l)?e[n]=t?o:S(l,o):null!=o&&a(o)&&null!=l&&a(l)?e[n]=i(l,o):e[n]=P(o)}),e};return r.filter(function(e){return null!=e&&a(e)}).forEach(function(t){return i(e,t)}),e}var I=function(e){return[void 0,null,""].includes(e)};var W=function(e,t){void 0===t&&(t=2);var r=Number(e);return Number.isNaN(r)?0:r<Math.pow(-2,31)||r>Math.pow(2,31)-1?0:t<0||"number"!=typeof t?e:t>0?Math.round(r*Math.pow(10,t))/Math.pow(10,t):Math.round(r)},H=i;H.v1=n,H.v3=a,H.v4=i,H.v5=o;var j=n,L=a,A=i,R=o,F=function(){function e(){}return e.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},e.addMultipleClasses=function(e,t){var r,n,a,i;if(e.classList){var o=t.split(" ");try{for(var l=O(o),d=l.next();!d.done;d=l.next()){var s=d.value;e.classList.add(s)}}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}else{o=t.split(" ");try{for(var u=O(o),c=u.next();!c.done;c=u.next()){s=c.value;e.className+=" "+s}}catch(e){a={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}}},e.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},e.hasClass=function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},e.siblings=function(e){return Array.prototype.filter.call(e.parentNode.children,function(t){return t!==e})},e.find=function(e,t){return Array.from(e.querySelectorAll(t))},e.findSingle=function(e,t){return e?e.querySelector(t):null},e.index=function(e){for(var t=e.parentNode.childNodes,r=0,n=0;n<t.length;n++){if(t[n]===e)return r;1===t[n].nodeType&&r++}return-1},e.indexWithinGroup=function(e,t){for(var r=e.parentNode.childNodes,n=0,a=0;a<r.length;a++){if(r[a]===e)return n;r[a].attributes&&r[a].attributes[t]&&1===r[a].nodeType&&n++}return-1},e.relativePosition=function(e,t){var r,n,a=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),i=t.offsetHeight,o=t.getBoundingClientRect(),l=this.getViewport();o.top+i+a.height>l.height?(r=-1*a.height,o.top+r<0&&(r=-1*o.top)):r=i,n=a.width>l.width?-1*o.left:o.left+a.width>l.width?-1*(o.left+a.width-l.width):0,e.style.top=r+"px",e.style.left=n+"px"},e.absolutePosition=function(e,t){var r,n,a=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),i=a.height,o=a.width,l=t.offsetHeight,d=t.offsetWidth,s=t.getBoundingClientRect(),u=this.getWindowScrollTop(),c=this.getWindowScrollLeft(),f=this.getViewport();s.top+l+i>f.height?(r=s.top+u-i)<0&&(r=u):r=l+s.top+u,n=s.left+o>f.width?Math.max(0,s.left+c+d-o):s.left+c,e.style.top=r+"px",e.style.left=n+"px"},e.getHiddenElementOuterHeight=function(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t},e.getHiddenElementOuterWidth=function(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t},e.getHiddenElementDimensions=function(e){var t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t},e.scrollInView=function(e,t){var r=getComputedStyle(e).getPropertyValue("borderTopWidth"),n=r?parseFloat(r):0,a=getComputedStyle(e).getPropertyValue("paddingTop"),i=a?parseFloat(a):0,o=e.getBoundingClientRect(),l=t.getBoundingClientRect().top+document.body.scrollTop-(o.top+document.body.scrollTop)-n-i,d=e.scrollTop,s=e.clientHeight,u=this.getOuterHeight(t);l<0?e.scrollTop=d+l:l+u>s&&(e.scrollTop=d+l-s+u)},e.fadeIn=function(e,t){e.style.opacity=0;var r=+new Date,n=0,a=function(){n=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/t,e.style.opacity=n,r=+new Date,+n<1&&(window.requestAnimationFrame&&requestAnimationFrame(a)||setTimeout(a,16))};a()},e.fadeOut=function(e,t){var r=1,n=50/t,a=setInterval(function(){(r-=n)<=0&&(r=0,clearInterval(a)),e.style.opacity=r},50)},e.getWindowScrollTop=function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},e.getWindowScrollLeft=function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},e.matches=function(e,t){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),this)}).call(e,t)},e.getOuterWidth=function(e,t){var r=e.offsetWidth;if(t){var n=getComputedStyle(e);r+=parseFloat(n.marginLeft)+parseFloat(n.marginRight)}return r},e.getHorizontalPadding=function(e){var t=getComputedStyle(e);return parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)},e.getHorizontalMargin=function(e){var t=getComputedStyle(e);return parseFloat(t.marginLeft)+parseFloat(t.marginRight)},e.innerWidth=function(e){var t=e.offsetWidth,r=getComputedStyle(e);return t+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)},e.width=function(e){var t=e.offsetWidth,r=getComputedStyle(e);return t-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)},e.getInnerHeight=function(e){var t=e.offsetHeight,r=getComputedStyle(e);return t+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)},e.getOuterHeight=function(e,t){var r=e.offsetHeight;if(t){var n=getComputedStyle(e);r+=parseFloat(n.marginTop)+parseFloat(n.marginBottom)}return r},e.getHeight=function(e){var t=e.offsetHeight,r=getComputedStyle(e);return t-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth)},e.getWidth=function(e){var t=e.offsetWidth,r=getComputedStyle(e);return t-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth)},e.getViewport=function(){var e=window,t=document,r=t.documentElement,n=t.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||n.clientWidth,height:e.innerHeight||r.clientHeight||n.clientHeight}},e.getOffset=function(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}},e.replaceElementWith=function(e,t){var r=e.parentNode;if(!r)throw new Error("Can't replace element");return r.replaceChild(t,e)},e.getUserAgent=function(){return navigator.userAgent},e.isIE=function(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0||e.indexOf("Edge/")>0)},e.isIOS=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},e.isAndroid=function(){return/(android)/i.test(navigator.userAgent)},e.appendChild=function(e,t){if(this.isElement(t))t.appendChild(e);else{if(!t.el||!t.el.nativeElement)throw new Error("Cannot append "+t+" to "+e);t.el.nativeElement.appendChild(e)}},e.removeChild=function(e,t){if(this.isElement(t))t.removeChild(e);else{if(!t.el||!t.el.nativeElement)throw new Error("Cannot remove "+e+" from "+t);t.el.nativeElement.removeChild(e)}},e.isElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},e.calculateScrollbarWidth=function(e){if(e){var t=getComputedStyle(e)||{};return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}if(this.calculatedScrollbarWidth||0===this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var r=document.createElement("div");r.className="ui-scrollbar-measure",document.body.appendChild(r);var n=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=n,n},e.calculateScrollbarHeight=function(){if(this.calculatedScrollbarHeight||0===this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;var e=document.createElement("div");e.className="ui-scrollbar-measure",document.body.appendChild(e);var t=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t},e.invokeElementMethod=function(e,t,r){e[t].apply(e,r)},e.clearSelection=function(){var e=document.selection;if(window.getSelection){var t=window.getSelection()||{};t.empty?t.empty():t.removeAllRanges&&t.rangeCount>0&&t.getRangeAt(0).getClientRects().length>0&&t().removeAllRanges()}else if(e.selection&&e.empty)try{e.empty()}catch(e){}},e.getBrowser=function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},e.resolveUserAgent=function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.isInteger=function(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},e.isHidden=function(e){var t=window.getComputedStyle(e).getPropertyValue("position");return null===e.offsetParent&&"fixed"!==t},e.zindex=1e3,e}();function q(e){return[p(e[0]),d(e[1])]}var V=function(){function e(e){this.doc=e,this.list={},this.cached={},this._notify=new N.BehaviorSubject([])}return Object.defineProperty(e.prototype,"change",{get:function(){return this._notify.asObservable().pipe(M.share(),M.filter(function(e){return 0!==e.length}))},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.list={},this.cached={}},e.prototype.load=function(e){var t=this;Array.isArray(e)||(e=[e]);var r=[];return e.forEach(function(e){e.endsWith(".js")?r.push(t.loadScript(e)):r.push(t.loadStyle(e))}),Promise.all(r).then(function(e){return t._notify.next(e),Promise.resolve(e)})},e.prototype.loadScript=function(e,t){var r=this;return new Promise(function(n){if(!0!==r.list[e]){r.list[e]=!0;var a=function(t){r.cached[e]=t,n(t)},i=r.doc.createElement("script");i.type="text/javascript",i.src=e,i.charset="utf-8",t&&(i.innerHTML=t),i.readyState?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,a({path:e,loaded:!0,status:"ok"}))}:i.onload=function(){return a({path:e,loaded:!0,status:"ok"})},i.onerror=function(t){return a({path:e,loaded:!1,status:"error",error:t})},r.doc.getElementsByTagName("head")[0].appendChild(i)}else n(r.cached[e])})},e.prototype.loadStyle=function(e,t,r){var n=this;return void 0===t&&(t="stylesheet"),new Promise(function(a){if(!0!==n.list[e]){n.list[e]=!0;var i=n.doc.createElement("link");i.rel=t,i.type="text/css",i.href=e,r&&(i.innerHTML=r),n.doc.getElementsByTagName("head")[0].appendChild(i);var o={path:e,loaded:!0,status:"ok"};n.cached[e]=o,a(o)}else a(n.cached[e])})},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[w.DOCUMENT]}]}]},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e(t.ɵɵinject(w.DOCUMENT))},token:e,providedIn:"root"}),e}();function D(e){return/^((-?\d+\.\d+)|(-?\d+)|(-?\.\d+))$/.test(e.toString())}function B(e){return D(e)&&parseInt(e.toString(),10)==e}function $(e){return D(e)&&!B(e)}function z(e){return"string"==typeof e&&/(^\d{15}$)|(^\d{17}([0-9]|X)$)/i.test(e)}function U(e){return"string"==typeof e&&/^(0|\+?86|17951)?(13[0-9]|15[0-9]|17[0678]|18[0-9]|14[57])[0-9]{8}$/.test(e)}function Y(e){return/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+(?::\d+)?|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/.test(e)}var G=function(){function e(){}return e.num=function(e){return D(e.value)?null:{num:!0}},e.int=function(e){return B(e.value)?null:{int:!0}},e.decimal=function(e){return $(e.value)?null:{decimal:!0}},e.idCard=function(e){return z(e.value)?null:{idCard:!0}},e.mobile=function(e){return U(e.value)?null:{mobile:!0}},e.url=function(e){return Y(e.value)?null:{url:!0}},e}();function K(e,t){return void 0===t&&(t=!1),t&&void 0===e?void 0:null!=e&&""+e!="false"||""===e}function X(e,t){return void 0===t&&(t=0),isNaN(parseFloat(e))||isNaN(Number(e))?t:Number(e)}var Z=function(){function e(){}return e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}();var J=function(){function e(e){this.c=C({deepMapName:"deep",parentMapName:"parent",idMapName:"id",parentIdMapName:"parent_id",childrenMapName:"children",titleMapName:"title",checkedMapname:"checked",selectedMapname:"selected",expandedMapname:"expanded",disabledMapname:"disabled"},e&&e.array)}return e.prototype.treeToArr=function(e,t){var r=C({deepMapName:this.c.deepMapName,parentMapName:this.c.parentMapName,childrenMapName:this.c.childrenMapName,clearChildren:!0,cb:null},t),n=[],a=function(e,t,i){var o,l;void 0===i&&(i=0);try{for(var d=O(e),s=d.next();!s.done;s=d.next()){var u=s.value;u[r.deepMapName]=i,u[r.parentMapName]=t,r.cb&&r.cb(u,t,i),n.push(u);var c=u[r.childrenMapName];null!=c&&Array.isArray(c)&&c.length>0&&a(c,u,i+1),r.clearChildren&&delete u[r.childrenMapName]}}catch(e){o={error:e}}finally{try{s&&!s.done&&(l=d.return)&&l.call(d)}finally{if(o)throw o.error}}};return a(e,1),n},e.prototype.arrToTree=function(e,t){var r,n,a=C({idMapName:this.c.idMapName,parentIdMapName:this.c.parentIdMapName,childrenMapName:this.c.childrenMapName,cb:null},t),i=[],o={};try{for(var l=O(e),d=l.next();!d.done;d=l.next()){var s=d.value,u=s[a.idMapName],c=s[a.parentIdMapName];o[u]=o[u]||[],s[a.childrenMapName]=o[u],a.cb&&a.cb(s),c?(o[c]=o[c]||[],o[c].push(s)):i.push(s)}}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return i},e.prototype.arrToTreeNode=function(e,t){var r=C({idMapName:this.c.idMapName,parentIdMapName:this.c.parentIdMapName,titleMapName:this.c.titleMapName,isLeafMapName:"isLeaf",checkedMapname:this.c.checkedMapname,selectedMapname:this.c.selectedMapname,expandedMapname:this.c.expandedMapname,disabledMapname:this.c.disabledMapname,cb:null},t),n=this.arrToTree(e,{idMapName:r.idMapName,parentIdMapName:r.parentIdMapName,childrenMapName:"children"});return this.visitTree(n,function(e,t,n){e.key=e[r.idMapName],e.title=e[r.titleMapName],e.checked=e[r.checkedMapname],e.selected=e[r.selectedMapname],e.expanded=e[r.expandedMapname],e.disabled=e[r.disabledMapname],null==e[r.isLeafMapName]?e.isLeaf=0===e.children.length:e.isLeaf=e[r.isLeafMapName],r.cb&&r.cb(e,t,n)}),n.map(function(e){return new x.NzTreeNode(e)})},e.prototype.visitTree=function(e,t,r){r=C({childrenMapName:this.c.childrenMapName},r);var n=function(e,a,i){var o,l;try{for(var d=O(e),s=d.next();!s.done;s=d.next()){var u=s.value;t(u,a,i);var c=u[r.childrenMapName];c&&c.length>0&&n(c,u,i+1)}}catch(e){o={error:e}}finally{try{s&&!s.done&&(l=d.return)&&l.call(d)}finally{if(o)throw o.error}}};n(e,null,1)},e.prototype.getKeysByTreeNode=function(e,t){var r=C({includeHalfChecked:!0},t),n=[];return this.visitTree(e,function(e,t,a){(e.isChecked||r.includeHalfChecked&&e.isHalfChecked)&&n.push(r.cb?r.cb(e,t,a):r.keyMapName?e.origin[r.keyMapName]:e.key)}),n},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:Z}]},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e(t.ɵɵinject(Z))},token:e,providedIn:"root"}),e}();var Q=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[w.CommonModule],declarations:[_],exports:[_]}]}],e}();e.ArrayService=J,e.DomHandler=F,e.InputBoolean=function(e){return void 0===e&&(e=!1),function(t,r){var n="$$__"+r;Object.prototype.hasOwnProperty.call(t,n)&&console.warn('The prop "'+n+'" is already exist, it will be overrided by InputBoolean decorator.'),Object.defineProperty(t,n,{configurable:!0,writable:!0}),Object.defineProperty(t,r,{get:function(){return this[n]},set:function(t){this[n]=K(t,e)}})}},e.InputNumber=function(e){return void 0===e&&(e=0),function(t,r){var n="$$__"+r;Object.prototype.hasOwnProperty.call(t,n)&&console.warn('The prop "'+n+'" is already exist, it will be overrided by InputNumber decorator.'),Object.defineProperty(t,n,{configurable:!0,writable:!0}),Object.defineProperty(t,r,{get:function(){return this[n]},set:function(t){this[n]=X(t,e)}})}},e.LazyService=V,e.PixelmonUtilConfig=Z,e.PixelmonUtilModule=Q,e.StringTemplateOutletDirective=_,e._Validators=G,e.copy=function(e){return new Promise(function(t){var r=null;try{(r=document.createElement("textarea")).style.height="0px",r.style.opacity="0",r.style.width="0px",document.body.appendChild(r),r.value=e,r.select(),document.execCommand("copy"),t(e)}finally{r&&r.parentNode&&r.parentNode.removeChild(r)}})},e.deepCopy=P,e.deepGet=k,e.deepMerge=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return E.apply(void 0,S([e,!1],t))},e.deepMergeKey=E,e.fixEndTimeOfRange=q,e.format=function(e,t,r){return void 0===r&&(r=!1),(e||"").replace(/\${([^}]+)}/g,function(e,n){return r?k(t,n.split("."),""):(t||{})[n]||""})},e.getTimeDistance=function(e,t){t=f(t||new Date);var r,n={weekStartsOn:1};switch(e){case"today":r=[t,t];break;case"-today":r=[l(t,-1),t];break;case"yesterday":r=[l(t,-1),l(t,-1)];break;case"week":r=[m(t,n),u(t,n)];break;case"-week":r=[m(g(t,1),n),u(g(t,1),n)];break;case"month":r=[h(t),s(t)];break;case"-month":r=[h(v(t,1)),s(v(t,1))];break;case"year":r=[y(t),c(t)];break;case"-year":r=[y(b(t,1)),c(b(t,1))];break;default:r=e>0?[t,l(t,e)]:[l(t,e),t]}return q(r)},e.isDecimal=$,e.isEmpty=function(e){for(var t=e.childNodes,r=0;r<t.length;r++){var n=t.item(r);if(1===n.nodeType&&0!==n.outerHTML.toString().trim().length)return!1;if(3===n.nodeType&&0!==n.textContent.toString().trim().length)return!1}return!0},e.isEmptyVal=I,e.isIdCard=z,e.isInt=B,e.isMobile=U,e.isNum=D,e.isUrl=Y,e.isValidVal=function(e){return!I(e)&&!["null","undefined"].includes(e)},e.toBoolean=K,e.toCentNumber=function(e){var t=Number(e);return Number.isNaN(t)?0:W(100*t,0)},e.toFixed=W,e.toNumber=X,e.toYuanNumber=function(e,t){void 0===t&&(t=2);var r=Number(e);return Number.isNaN(r)?0:W(r/100,t)},e.updateHostClass=function(e,t,r,n){void 0===n&&(n=!1),!0===n?t.removeAttribute(e,"class"):function(e,t,r){for(var n in t)r.removeClass(e,n)}(e,r,t),function(e,t,r){for(var n in t)t[n]&&r.addClass(e,n)}(e,r=C({},r),t)},e.uuidv1=j,e.uuidv3=L,e.uuidv4=A,e.uuidv5=R,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=util.umd.min.js.map